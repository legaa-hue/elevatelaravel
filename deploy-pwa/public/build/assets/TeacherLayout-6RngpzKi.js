import{r as v,x as ue,E as ce,c as W,Q as A,i as pe,o as s,w as J,a as n,g as p,d as x,e,t as c,n as k,T as ke,D as Le,s as we,b as se,F as D,k as L,j as K,z as re,l as de,G as Je,f as B,v as be,m as X,B as O,q as ne}from"./app-CDJn0Pzk.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";function _e(){const $=v(navigator.onLine),C=v(!1),u=v(null),h=v(0),b=v(null),j=()=>{const l=!$.value;$.value=navigator.onLine,l&&$.value&&(console.log("ðŸŒ Connection restored, starting sync..."),S())},S=async()=>{if(!(!$.value||C.value))try{C.value=!0,u.value={type:"syncing",message:"Syncing data..."};const l=await A.getPendingActions();if(l.length===0){C.value=!1;return}console.log(`ðŸ”„ Syncing ${l.length} pending actions...`);let i=0,d=0;for(const m of l)try{await y(m),await A.markActionSynced(m.id),i++}catch(f){console.error("Failed to sync action:",m,f),d++}b.value=new Date().toISOString(),d===0?u.value={type:"success",message:`âœ“ Successfully synced ${i} ${i===1?"change":"changes"}`}:u.value={type:"warning",message:`âš  Synced ${i} changes, ${d} failed`},setTimeout(()=>{u.value=null},5e3),await F()}catch(l){console.error("Sync error:",l),u.value={type:"error",message:"âœ— Sync failed. Will retry later."},setTimeout(()=>{u.value=null},5e3)}finally{C.value=!1}},y=async l=>{const{type:i,data:d,endpoint:m,method:f="POST"}=l;switch(i){case"create_course":return await M(d);case"update_course":return await Y(d);case"create_event":return await G(d);case"update_event":return await N(d);case"delete_event":return await P(d);case"create_classwork":return await V(d);case"update_classwork":return await U(d);case"create_material":return await Q(d);case"update_gradebook":return await E(d);case"grade_submission":return await Z(d);case"custom":return await R(m,f,d);default:throw new Error(`Unknown action type: ${i}`)}},M=async l=>{var m;const i=await fetch("/teacher/courses",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.content)||"",Accept:"application/json"},body:JSON.stringify(l)});if(!i.ok)throw new Error("Failed to create course");const d=await i.json();return d.course&&await A.save("courses",d.course),d},Y=async l=>{var d;const i=await fetch(`/teacher/courses/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.content)||"",Accept:"application/json"},body:JSON.stringify(l)});if(!i.ok)throw new Error("Failed to update course");return await i.json()},G=async l=>{var d;const i=await fetch("/teacher/calendar/events",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.content)||"",Accept:"application/json"},body:JSON.stringify(l)});if(!i.ok)throw new Error("Failed to create event");return await i.json()},N=async l=>{var d;const i=await fetch(`/teacher/calendar/events/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.content)||"",Accept:"application/json"},body:JSON.stringify(l)});if(!i.ok)throw new Error("Failed to update event");return await i.json()},P=async l=>{var d;const i=await fetch(`/teacher/calendar/events/${l.id}`,{method:"DELETE",headers:{"X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.content)||"",Accept:"application/json"}});if(!i.ok)throw new Error("Failed to delete event");return await i.json()},V=async l=>{var m;const i=new FormData;Object.keys(l).forEach(f=>{l[f]!==null&&l[f]!==void 0&&(f==="attachments"&&Array.isArray(l[f])?l[f].forEach(ee=>i.append("attachments[]",ee)):typeof l[f]=="object"?i.append(f,JSON.stringify(l[f])):i.append(f,l[f]))});const d=await fetch("/teacher/classwork",{method:"POST",headers:{"X-CSRF-TOKEN":((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.content)||"",Accept:"application/json"},body:i});if(!d.ok)throw new Error("Failed to create classwork");return await d.json()},U=async l=>{var d;const i=await fetch(`/teacher/classwork/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.content)||"",Accept:"application/json"},body:JSON.stringify(l)});if(!i.ok)throw new Error("Failed to update classwork");return await i.json()},Q=async l=>await V({...l,type:"material"}),E=async l=>{var d;const i=await fetch(`/teacher/courses/${l.course_id}/gradebook`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.content)||"",Accept:"application/json"},body:JSON.stringify(l.gradebook)});if(!i.ok)throw new Error("Failed to update gradebook");return await i.json()},Z=async l=>{var d;const i=await fetch(`/teacher/submissions/${l.submission_id}/grade`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.content)||"",Accept:"application/json"},body:JSON.stringify(l)});if(!i.ok)throw new Error("Failed to grade submission");return await i.json()},R=async(l,i,d)=>{var f;const m=await fetch(l,{method:i,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((f=document.querySelector('meta[name="csrf-token"]'))==null?void 0:f.content)||"",Accept:"application/json"},body:JSON.stringify(d)});if(!m.ok)throw new Error(`Failed to sync ${l}`);return await m.json()},F=async()=>{const l=await A.getPendingActions();h.value=l.length},z=async(l,i,d=null,m="POST")=>(await A.addPendingAction({type:l,data:i,endpoint:d,method:m,timestamp:Date.now()}),await F(),{success:!0,offline:!0,message:"Changes saved offline. Will sync when online."}),H=async l=>{const i=await A.getAll(l);return i&&i.length>0},w=async(l,i=null)=>i?await A.get(l,i):await A.getAll(l),T=async(l,i)=>Array.isArray(i)?await A.saveMany(l,i):await A.save(l,i);ue(()=>{window.addEventListener("online",j),window.addEventListener("offline",j),F(),$.value&&S()}),ce(()=>{window.removeEventListener("online",j),window.removeEventListener("offline",j)});const ae=W(()=>{if(!u.value)return"";switch(u.value.type){case"success":return"text-green-600";case"error":return"text-red-600";case"warning":return"text-yellow-600";case"syncing":return"text-blue-600";default:return""}}),le=W(()=>C.value?"sync":$.value?h.value>0?"cloud_upload":"cloud_done":"cloud_off");return{isOnline:$,isSyncing:C,syncStatus:u,pendingActionsCount:h,lastSyncTime:b,statusColor:ae,statusIcon:le,syncPendingActions:S,saveOfflineAction:z,hasCachedData:H,getCachedData:w,cacheData:T,updatePendingCount:F}}const Ue={key:0,class:"fixed bottom-4 right-4 z-50 max-w-xs"},Re={key:0,class:"bg-gray-800 text-white px-3 py-2 rounded-lg shadow-lg flex items-center space-x-2 text-xs"},He={key:0,class:"bg-yellow-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full"},qe={key:1,class:"bg-blue-500 bg-opacity-90 text-white px-3 py-2 rounded-lg shadow-md flex items-center space-x-2 text-xs"},Ie={class:"material-icons text-sm"},Ke={class:"flex-1 font-medium"},Xe={class:"flex-1"},We={class:"font-semibold"},Ye={__name:"OfflineSyncIndicator",emits:["retry-sync"],setup($){const{isOnline:C,isSyncing:u,syncStatus:h,pendingActionsCount:b}=_e(),j=W(()=>!C.value||u.value||h.value||b.value>0);return(S,y)=>(s(),pe(ke,{name:"slide-fade"},{default:J(()=>[j.value?(s(),n("div",Ue,[x(C)?x(u)?(s(),n("div",qe,[...y[4]||(y[4]=[e("span",{class:"material-icons animate-spin text-sm"},"sync",-1),e("p",{class:"font-medium"},"Syncing...",-1)])])):x(h)&&x(h).type!=="success"?(s(),n("div",{key:2,class:k(["px-3 py-2 rounded-lg shadow-lg flex items-center space-x-2 text-xs",x(h).type==="error"?"bg-red-600 text-white":x(h).type==="warning"?"bg-yellow-600 text-white":"bg-blue-600 text-white"])},[e("span",Ie,c(x(h).type==="error"?"error":x(h).type==="warning"?"warning":"info"),1),e("p",Ke,c(x(h).message),1),e("button",{onClick:y[0]||(y[0]=M=>h.value=null),class:"text-white hover:text-gray-200"},[...y[5]||(y[5]=[e("span",{class:"material-icons text-xs"},"close",-1)])])],2)):x(C)&&x(b)>0?(s(),n("div",{key:3,class:"bg-yellow-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center space-x-2 cursor-pointer text-xs",onClick:y[1]||(y[1]=M=>S.$emit("retry-sync"))},[y[6]||(y[6]=e("span",{class:"material-icons text-sm"},"cloud_upload",-1)),e("div",Xe,[e("p",We,c(x(b))+" pending",1)])])):p("",!0):(s(),n("div",Re,[y[2]||(y[2]=e("span",{class:"material-icons text-gray-400 animate-pulse text-sm"},"cloud_off",-1)),y[3]||(y[3]=e("div",{class:"flex-1"},[e("p",{class:"font-semibold"},"Offline")],-1)),x(b)>0?(s(),n("span",He,c(x(b)),1)):p("",!0)]))])):p("",!0)]),_:1}))}},Ge=Ce(Ye,[["__scopeId","data-v-891b7f62"]]),Qe={class:"min-h-screen bg-gray-50"},Ze={key:0,class:"fixed top-6 right-6 z-[9999] bg-green-600 text-white px-6 py-3 rounded shadow-lg flex items-center gap-3 animate-fade-in"},et={class:"flex items-center justify-between p-4 border-b border-gray-200 h-16"},tt={key:0,class:"flex items-center gap-3"},ot={class:"px-3 py-6 space-y-2 overflow-y-auto h-[calc(100vh-180px)]"},st={key:0,class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rt={key:1,class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},nt={key:2,class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},at={key:3,class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lt={key:4,class:"text-sm"},it={key:5,class:"fixed left-[88px] px-3 py-2 bg-gray-900 text-white text-sm rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 z-[9999] shadow-lg"},dt={class:"mb-2"},ut={key:0,class:"text-sm flex-1 text-left"},ct={key:2,class:"fixed left-[88px] px-3 py-2 bg-gray-900 text-white text-sm rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 z-[9999] shadow-lg"},pt={key:0,class:"ml-3 mt-2 space-y-1 max-h-60 overflow-y-auto"},vt={key:0,class:"px-3 py-4 text-center text-gray-500 text-xs"},yt={key:1,class:"px-3 py-4 text-center text-gray-500 text-xs"},gt={class:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center text-white text-xs font-bold flex-shrink-0"},ft={class:"flex-1 min-w-0"},mt={class:"text-xs font-medium text-gray-900 truncate"},xt={class:"text-xs text-gray-500 truncate"},ht={class:"mb-2"},wt={key:0,class:"text-sm flex-1 text-left"},bt={key:2,class:"fixed left-[88px] px-3 py-2 bg-gray-900 text-white text-sm rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 z-[9999] shadow-lg"},kt={key:0,class:"ml-3 mt-2 space-y-1 max-h-60 overflow-y-auto"},Ct={key:0,class:"px-3 py-4 text-center text-gray-500 text-xs"},_t={key:1,class:"px-3 py-4 text-center text-gray-500 text-xs"},jt={class:"w-6 h-6 bg-green-600 rounded flex items-center justify-center text-white text-xs font-bold flex-shrink-0"},St={class:"flex-1 min-w-0"},Mt={class:"text-xs font-medium text-gray-900 truncate"},Tt={class:"text-xs text-gray-500 truncate"},At={key:0,class:"absolute bottom-4 left-3 right-3 bg-red-50 border border-red-200 rounded-lg p-3 text-xs"},$t={key:0,class:"text-red-900 font-bold"},Et={key:1,class:"text-red-900 font-bold text-center"},Ot={class:"flex items-center justify-between px-4 py-3"},Ft={class:"flex items-center gap-2 ml-auto"},zt={class:"relative"},Bt={key:0,class:"absolute top-1 right-1 min-w-[18px] h-[18px] bg-red-600 text-white text-xs font-bold rounded-full flex items-center justify-center px-1"},Nt={class:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50"},Pt={class:"overflow-y-auto flex-1"},Vt={key:0,class:"p-8 text-center text-gray-500"},Dt={key:1,class:"p-8 text-center text-gray-500"},Lt={key:2},Jt=["onClick"],Ut={class:"flex gap-3"},Rt={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ht=["d"],qt={class:"flex-1 min-w-0"},It={class:"flex items-start justify-between gap-2"},Kt={class:"text-sm font-semibold text-gray-900"},Xt=["onClick"],Wt={class:"text-sm text-gray-600 mt-1"},Yt={class:"text-xs text-gray-500 mt-1"},Gt={class:"relative"},Qt={key:0,class:"w-10 h-10 rounded-full overflow-hidden border-2 border-gray-200"},Zt=["src","alt"],eo={key:1,class:"w-10 h-10 rounded-full bg-gradient-to-br from-red-900 to-red-700 text-white flex items-center justify-center font-bold text-sm shadow-md"},to={class:"hidden md:block text-left"},oo={class:"text-sm font-semibold text-gray-900"},so={key:0,class:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50"},ro={class:"px-4 py-3 border-b border-gray-200"},no={class:"text-sm font-semibold text-gray-900"},ao={class:"text-xs text-gray-500 truncate"},lo={class:"pt-20 p-6 bg-gray-50 min-h-screen"},io={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},uo={class:"flex items-center justify-center min-h-screen px-4"},co={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto"},po={class:"flex items-center justify-between mb-4"},vo=["value"],yo={key:0,class:"mt-1 text-sm text-red-600"},go={key:0},fo={key:1},mo={key:0,class:"text-center py-4 text-gray-500"},xo={key:1,class:"max-h-60 overflow-y-auto border border-gray-300 rounded-lg"},ho=["onClick"],wo={class:"font-medium text-gray-900"},bo={class:"text-sm text-gray-600"},ko={class:"text-xs text-gray-500 mt-1"},Co={key:2,class:"text-center py-4 text-gray-500"},_o={key:2},jo={key:0,class:"mt-1 text-sm text-red-600"},So={key:3},Mo={key:4},To={key:0,class:"mt-1 text-sm text-red-600"},Ao={key:5},$o=["value"],Eo={key:6},Oo={key:0,class:"mt-1 text-sm text-red-600"},Fo={class:"flex gap-3 pt-4"},zo=["disabled"],Bo={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},No={class:"flex items-center justify-center min-h-screen px-4"},Po={class:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6"},Vo={class:"flex items-center justify-between mb-4"},Do={key:0,class:"mt-1 text-sm text-red-600"},Lo={class:"flex gap-3 pt-4"},Jo=["disabled"],Uo={__name:"TeacherLayout",setup($){const C=Le(),u=v(!1),h=v(!1),b=v(!1),j=v(!1),S=v(!1),y=v(!1),M=v(!1),Y=v(!1),G=v(""),N=v([]),P=v([]),V=v(!1),U=v(!1),Q=v([]),E=v([]),Z=v(!1),R=v(!1),F=v([]),z=v(0),H=v(!1),w=W(()=>C.props.auth.user),T=W(()=>C.props.activeAcademicYear),{syncPendingActions:ae}=_e(),le=()=>{ae()},l=v(!1),i=v(null),d=[{name:"Dashboard",href:"/teacher/dashboard",route:"teacher.dashboard"},{name:"Calendar",href:"/teacher/calendar",route:"teacher.calendar"},{name:"Class Record",href:"/teacher/class-record",route:"teacher.class-record"},{name:"Reports",href:"/teacher/reports",route:"teacher.reports"}],m=r=>route().current(r),f=async()=>{Z.value=!0;try{const r=await O.get("/teacher/programs/list");Q.value=r.data}catch(r){console.error("Failed to load programs:",r)}finally{Z.value=!1}},ee=async(r,t)=>{if(!r||!t){E.value=[];return}R.value=!0;try{const g=await O.get(`/teacher/programs/${r}/course-templates`,{params:{course_type:t}});E.value=g.data}catch(g){console.error("Failed to load course templates:",g),E.value=[]}finally{R.value=!1}},a=v({program_id:null,courseType:"",course_template_id:null,selectedCourse:null,title:"",section:"",description:"",units:3,academic_year_id:null,processing:!1,errors:{}});we(()=>a.value.program_id,()=>{a.value.course_template_id=null,a.value.selectedCourse=null,a.value.title="",a.value.units=3,a.value.program_id&&a.value.courseType?ee(a.value.program_id,a.value.courseType):E.value=[]}),we(()=>a.value.courseType,()=>{a.value.course_template_id=null,a.value.selectedCourse=null,a.value.title="",a.value.units=3,a.value.program_id&&a.value.courseType?ee(a.value.program_id,a.value.courseType):E.value=[]});const je=r=>{a.value.selectedCourse=r,a.value.course_template_id=r.id,a.value.title=`${r.course_code} â€“ ${r.course_name}`,a.value.units=r.units};ue(()=>{f();const r=()=>{f()};window.addEventListener("focus",r),ce(()=>{window.removeEventListener("focus",r)})});const _=v({join_code:"",processing:!1,errors:{}}),ve=()=>{T.value&&(a.value.academic_year_id=T.value.id),f(),y.value=!0},Se=()=>{a.value.processing=!0,a.value.errors={},ne.post("/teacher/courses",{program_id:a.value.program_id,course_template_id:a.value.course_template_id,section:a.value.section,description:a.value.description,academic_year_id:a.value.academic_year_id},{preserveScroll:!0,onSuccess:()=>{var r;y.value=!1,a.value={program_id:null,courseType:"",course_template_id:null,selectedCourse:null,title:"",section:"",description:"",units:3,academic_year_id:((r=T.value)==null?void 0:r.id)||null,processing:!1,errors:{}}},onError:r=>{a.value.errors=r,a.value.processing=!1},onFinish:()=>{a.value.processing=!1}})},Me=()=>{_.value.processing=!0,_.value.errors={},ne.post("/teacher/courses/join",{join_code:_.value.join_code},{preserveScroll:!0,onSuccess:()=>{M.value=!1,_.value={join_code:"",processing:!1,errors:{}}},onError:r=>{_.value.errors=r,_.value.processing=!1},onFinish:()=>{_.value.processing=!1}})},Te=()=>{ne.post("/logout")},Ae=r=>{var q,I;if(!r)return"T";const t=((q=r.first_name)==null?void 0:q[0])||"",g=((I=r.last_name)==null?void 0:I[0])||"";return(t+g).toUpperCase()||"T"},ye=async()=>{V.value=!0;try{const r=await O.get("/teacher/my-courses");N.value=r.data.courses||[]}catch(r){console.error("Failed to load courses",r)}finally{V.value=!1}},$e=()=>{b.value=!b.value,b.value&&N.value.length===0&&ye()},ge=async()=>{U.value=!0;try{const r=await O.get("/teacher/joined-courses",{headers:{Accept:"application/json"}});P.value=r.data}catch(r){console.error("Failed to load joined courses",r)}finally{U.value=!1}},Ee=()=>{j.value=!j.value,j.value&&P.value.length===0&&ge()},te=async()=>{H.value=!0;try{const r=await O.get("/teacher/notifications");F.value=r.data.notifications,z.value=r.data.unread_count}catch(r){console.error("Failed to load notifications",r)}finally{H.value=!1}},fe=async()=>{try{const r=await O.get("/teacher/notifications/unread-count");z.value=r.data.count}catch(r){console.error("Failed to load unread count",r)}},Oe=()=>{S.value=!S.value,S.value&&te()},Fe=async r=>{try{await O.post(`/teacher/notifications/${r}/read`),te()}catch(t){console.error("Failed to mark notification as read",t)}},ze=async()=>{try{await O.post("/teacher/notifications/read-all"),te()}catch(r){console.error("Failed to mark all as read",r)}},Be=async r=>{try{await O.delete(`/teacher/notifications/${r}`),te()}catch(t){console.error("Failed to delete notification",t)}},Ne=async r=>{var t;r.is_read||await Fe(r.id),(t=r.data)!=null&&t.url&&(ne.visit(r.data.url),S.value=!1)},Pe=r=>{switch(r){case"submission":return"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z";case"announcement":return"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}},Ve=r=>{const t=Math.floor((new Date-new Date(r))/1e3);let g=t/31536e3;return g>1?Math.floor(g)+" years ago":(g=t/2592e3,g>1?Math.floor(g)+" months ago":(g=t/86400,g>1?Math.floor(g)+" days ago":(g=t/3600,g>1?Math.floor(g)+" hours ago":(g=t/60,g>1?Math.floor(g)+" minutes ago":Math.floor(t)+" seconds ago"))))},De=()=>{Y.value=!1,G.value=""};let ie;return ue(()=>{try{u.value=window.matchMedia("(min-width: 1024px)").matches}catch{u.value=!1}ye(),ge(),fe(),ie=setInterval(()=>{fe()},3e4),console.log("ðŸŽ¯ PWA: Setting up install button listeners"),window.matchMedia("(display-mode: standalone)").matches&&(console.log("âœ… PWA: App already installed (standalone mode)"),l.value=!1),window.addEventListener("beforeinstallprompt",r=>{console.log("ðŸš€ PWA: beforeinstallprompt event fired!"),r.preventDefault(),i.value=r,l.value=!0,console.log("âœ… PWA: Install button should now be visible")}),window.addEventListener("appinstalled",()=>{console.log("ðŸŽ‰ PWA: App installed successfully!"),l.value=!1,i.value=null})}),ce(()=>{ie&&clearInterval(ie)}),(r,t)=>{var g,q,I,me,xe,he;return s(),n("div",Qe,[se(Ge,{onRetrySync:le}),se(ke,{name:"fade"},{default:J(()=>[Y.value?(s(),n("div",Ze,[t[20]||(t[20]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,c(G.value),1),e("button",{onClick:De,class:"ml-4 text-white hover:text-gray-200 focus:outline-none"},"Ã—")])):p("",!0)]),_:1}),u.value?(s(),n("div",{key:0,onClick:t[0]||(t[0]=o=>u.value=!1),class:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden"})):p("",!0),e("aside",{class:k(["fixed top-0 left-0 h-full bg-white shadow-xl text-gray-900 transform transition-all duration-300 ease-in-out border-r border-gray-200",u.value?"w-64 z-50":"w-20 z-40","lg:translate-x-0",!u.value&&"-translate-x-full lg:translate-x-0"])},[e("div",et,[u.value?(s(),n("div",tt,[...t[21]||(t[21]=[e("div",{class:"w-10 h-10 bg-gradient-to-br from-red-900 to-red-700 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-md"}," E ",-1),e("div",null,[e("h1",{class:"text-lg font-bold bg-gradient-to-r from-black to-red-900 bg-clip-text text-transparent"},"ElevateGS"),e("p",{class:"text-xs text-gray-600"},"Teacher Portal")],-1)])])):p("",!0),e("button",{onClick:t[1]||(t[1]=o=>u.value=!u.value),class:k(["text-gray-600 hover:text-red-900 hover:bg-red-50 p-2 rounded-lg transition",!u.value&&"mx-auto"])},[...t[22]||(t[22]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2)]),e("nav",ot,[(s(),n(D,null,L(d,o=>se(x(re),{key:o.name,href:o.href,class:k(["flex items-center gap-3 px-3 py-3 rounded-lg transition-all duration-200 group relative",m(o.route)?"bg-red-50 text-red-900 shadow-sm font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-red-900"])},{default:J(()=>[o.name==="Dashboard"?(s(),n("svg",st,[...t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},null,-1)])])):o.name==="Calendar"?(s(),n("svg",rt,[...t[24]||(t[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])])):o.name==="Class Record"?(s(),n("svg",nt,[...t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])):o.name==="Reports"?(s(),n("svg",at,[...t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])])):p("",!0),u.value?(s(),n("span",lt,c(o.name),1)):p("",!0),u.value?p("",!0):(s(),n("div",it,[K(c(o.name)+" ",1),t[27]||(t[27]=e("div",{class:"absolute right-full top-1/2 -translate-y-1/2 border-4 border-transparent border-r-gray-900"},null,-1))]))]),_:2},1032,["href","class"])),64)),e("div",dt,[e("button",{onClick:$e,class:k(["w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-all duration-200 group relative","text-gray-700 hover:bg-gray-100 hover:text-red-900"])},[t[30]||(t[30]=e("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),u.value?(s(),n("span",ut,"My Courses")):p("",!0),u.value?(s(),n("svg",{key:1,class:k(["w-4 h-4 transition-transform",b.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[28]||(t[28]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)):p("",!0),u.value?p("",!0):(s(),n("div",ct,[...t[29]||(t[29]=[K(" My Courses ",-1),e("div",{class:"absolute right-full top-1/2 -translate-y-1/2 border-4 border-transparent border-r-gray-900"},null,-1)])]))]),b.value&&u.value?(s(),n("div",pt,[V.value?(s(),n("div",vt,[...t[31]||(t[31]=[e("svg",{class:"animate-spin h-4 w-4 mx-auto",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"text-xs mt-1"},"Loading...",-1)])])):N.value.length===0?(s(),n("div",yt,[...t[32]||(t[32]=[e("p",null,"No courses yet",-1)])])):(s(!0),n(D,{key:2},L(N.value,o=>(s(),pe(x(re),{key:o.id,href:`/teacher/courses/${o.id}`,class:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition text-sm text-gray-700"},{default:J(()=>[e("div",gt,c(o.title.charAt(0)),1),e("div",ft,[e("p",mt,c(o.title),1),e("p",xt,c(o.section),1)])]),_:2},1032,["href"]))),128))])):p("",!0)]),e("div",ht,[e("button",{onClick:Ee,class:k(["w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-all duration-200 group relative","text-gray-700 hover:bg-gray-100 hover:text-red-900"])},[t[35]||(t[35]=e("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),u.value?(s(),n("span",wt,"Joined Courses")):p("",!0),u.value?(s(),n("svg",{key:1,class:k(["w-4 h-4 transition-transform",j.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[33]||(t[33]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)):p("",!0),u.value?p("",!0):(s(),n("div",bt,[...t[34]||(t[34]=[K(" Joined Courses ",-1),e("div",{class:"absolute right-full top-1/2 -translate-y-1/2 border-4 border-transparent border-r-gray-900"},null,-1)])]))]),j.value&&u.value?(s(),n("div",kt,[U.value?(s(),n("div",Ct,[...t[36]||(t[36]=[e("svg",{class:"animate-spin h-4 w-4 mx-auto",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"text-xs mt-1"},"Loading...",-1)])])):P.value.length===0?(s(),n("div",_t,[...t[37]||(t[37]=[e("p",null,"No joined courses",-1)])])):(s(!0),n(D,{key:2},L(P.value,o=>(s(),pe(x(re),{key:o.id,href:`/teacher/courses/${o.id}`,class:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition text-sm text-gray-700"},{default:J(()=>[e("div",jt,c(o.title.charAt(0)),1),e("div",St,[e("p",Mt,c(o.title),1),e("p",Tt,c(o.section),1)])]),_:2},1032,["href"]))),128))])):p("",!0)])]),T.value?(s(),n("div",At,[e("p",{class:k(["text-gray-600 font-medium",u.value?"":"text-center"])},c(u.value?"Active Year:":"Year"),3),u.value?(s(),n("p",$t,c(T.value.year_name),1)):(s(),n("p",Et,c(T.value.year_name.split("-")[0]),1))])):p("",!0)],2),e("div",{class:k(["transition-all duration-300",u.value?"lg:ml-64":"lg:ml-20"])},[e("header",{class:k(["fixed top-0 right-0 z-30 bg-white shadow-sm border-b border-gray-200",["transition-all duration-300",u.value?"left-0 lg:left-64":"left-0 lg:left-20"]])},[e("div",Ot,[e("button",{onClick:t[2]||(t[2]=o=>u.value=!0),class:"lg:hidden text-gray-600 hover:text-gray-900"},[...t[38]||(t[38]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),t[52]||(t[52]=e("h2",{class:"lg:hidden text-lg font-semibold text-gray-900"},"Teacher Portal",-1)),e("div",Ft,[e("button",{onClick:ve,class:"hidden sm:flex items-center gap-2 px-4 py-2 bg-red-900 hover:bg-red-800 text-white rounded-lg font-medium transition shadow-sm"},[...t[39]||(t[39]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"hidden md:inline"},"Create Course",-1)])]),e("button",{onClick:t[3]||(t[3]=o=>M.value=!0),class:"hidden sm:flex items-center gap-2 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-medium transition shadow-sm"},[...t[40]||(t[40]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),e("span",{class:"hidden md:inline"},"Join Course",-1)])]),e("button",{onClick:ve,class:"sm:hidden p-2 bg-red-900 text-white rounded-lg"},[...t[41]||(t[41]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),e("button",{onClick:t[4]||(t[4]=o=>M.value=!0),class:"sm:hidden p-2 bg-yellow-500 text-white rounded-lg"},[...t[42]||(t[42]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1)])]),e("div",zt,[e("button",{onClick:Oe,class:"relative p-2 text-gray-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",title:"Notifications"},[t[43]||(t[43]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),z.value>0?(s(),n("span",Bt,c(z.value>99?"99+":z.value),1)):p("",!0)]),S.value?(s(),n("div",{key:0,onClick:t[5]||(t[5]=o=>S.value=!1),class:"absolute right-0 mt-2 w-96 max-w-[calc(100vw-2rem)] bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[500px] overflow-hidden flex flex-col"},[e("div",Nt,[t[44]||(t[44]=e("h3",{class:"font-semibold text-gray-900"},"Notifications",-1)),z.value>0?(s(),n("button",{key:0,onClick:ze,class:"text-xs text-red-900 hover:text-red-700 font-medium"}," Mark all as read ")):p("",!0)]),e("div",Pt,[H.value?(s(),n("div",Vt,[...t[45]||(t[45]=[e("svg",{class:"animate-spin h-8 w-8 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"text-sm"},"Loading notifications...",-1)])])):F.value.length===0?(s(),n("div",Dt,[...t[46]||(t[46]=[e("svg",{class:"w-16 h-16 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),e("p",{class:"text-sm font-medium"},"No notifications yet",-1),e("p",{class:"text-xs mt-1"},"We'll notify you when something new arrives",-1)])])):(s(),n("div",Lt,[(s(!0),n(D,null,L(F.value,o=>(s(),n("div",{key:o.id,onClick:oe=>Ne(o),class:k(["px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",!o.is_read&&"bg-blue-50"])},[e("div",Ut,[e("div",{class:k(["w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",o.type==="submission"?"bg-green-100 text-green-700":o.type==="announcement"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"])},[(s(),n("svg",Rt,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:Pe(o.type)},null,8,Ht)]))],2),e("div",qt,[e("div",It,[e("p",Kt,c(o.title),1),e("button",{onClick:de(oe=>Be(o.id),["stop"]),class:"text-gray-400 hover:text-red-600 transition-colors"},[...t[47]||(t[47]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Xt)]),e("p",Wt,c(o.message),1),e("p",Yt,c(Ve(o.created_at)),1)])])],10,Jt))),128))]))])])):p("",!0)]),e("div",Gt,[e("button",{onClick:t[6]||(t[6]=o=>h.value=!h.value),class:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-100 transition"},[w.value&&w.value.profile_picture?(s(),n("div",Qt,[e("img",{src:w.value.profile_picture.startsWith("http")?w.value.profile_picture:`/storage/${w.value.profile_picture}`,alt:`${w.value.first_name} ${w.value.last_name}`,class:"w-full h-full object-cover"},null,8,Zt)])):(s(),n("div",eo,c(Ae(w.value)),1)),e("div",to,[e("p",oo,c(((g=w.value)==null?void 0:g.first_name)||"Teacher")+" "+c(((q=w.value)==null?void 0:q.last_name)||""),1),t[48]||(t[48]=e("p",{class:"text-xs text-gray-500"},"Teacher",-1))]),t[49]||(t[49]=e("svg",{class:"hidden md:block w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),h.value?(s(),n("div",so,[e("div",ro,[e("p",no,c(((I=w.value)==null?void 0:I.first_name)||"Teacher")+" "+c(((me=w.value)==null?void 0:me.last_name)||""),1),e("p",ao,c(((xe=w.value)==null?void 0:xe.email)||""),1)]),se(x(re),{href:r.route("profile.edit"),class:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},{default:J(()=>[...t[50]||(t[50]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),K(" Profile Settings ",-1)])]),_:1},8,["href"]),e("button",{onClick:Te,class:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50"},[...t[51]||(t[51]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),K(" Logout ",-1)])])])):p("",!0)])])])],2),e("main",lo,[Je(r.$slots,"default",{},void 0,!0)])],2),y.value?(s(),n("div",io,[e("div",uo,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[7]||(t[7]=o=>y.value=!1)}),e("div",co,[e("div",po,[t[54]||(t[54]=e("h3",{class:"text-xl font-bold text-gray-900"},"Create New Course",-1)),e("button",{onClick:t[8]||(t[8]=o=>y.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[53]||(t[53]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:de(Se,["prevent"]),class:"space-y-4"},[e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Program *",-1)),B(e("select",{"onUpdate:modelValue":t[9]||(t[9]=o=>a.value.program_id=o),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent"},[t[55]||(t[55]=e("option",{value:null},"Select Program",-1)),(s(!0),n(D,null,L(Q.value,o=>(s(),n("option",{key:o.id,value:o.id},c(o.name),9,vo))),128))],512),[[be,a.value.program_id]]),a.value.errors.program_id?(s(),n("p",yo,c(a.value.errors.program_id),1)):p("",!0)]),a.value.program_id?(s(),n("div",go,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Course Type *",-1)),B(e("select",{"onUpdate:modelValue":t[10]||(t[10]=o=>a.value.courseType=o),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent"},[...t[57]||(t[57]=[e("option",{value:""},"Select Course Type",-1),e("option",{value:"Basic Course"},"Basic Courses",-1),e("option",{value:"Major Course"},"Major Courses",-1),e("option",{value:"Thesis"},"Thesis Courses",-1)])],512),[[be,a.value.courseType]])])):p("",!0),a.value.courseType?(s(),n("div",fo,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Select Course *",-1)),R.value?(s(),n("div",mo," Loading courses... ")):E.value.length>0?(s(),n("div",xo,[(s(!0),n(D,null,L(E.value,o=>{var oe;return s(),n("button",{key:o.id,type:"button",onClick:Ro=>je(o),class:k(["w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0 transition",((oe=a.value.selectedCourse)==null?void 0:oe.id)===o.id?"bg-red-50 border-l-4 border-l-red-900":""])},[e("div",wo,c(o.course_code),1),e("div",bo,c(o.course_name),1),e("div",ko,c(o.units)+" units",1)],10,ho)}),128))])):(s(),n("div",Co," No courses available for this program and type. "))])):p("",!0),a.value.selectedCourse?(s(),n("div",_o,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Course Title (Auto-filled)",-1)),B(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>a.value.title=o),type:"text",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed"},null,512),[[X,a.value.title]]),a.value.errors.course_template_id?(s(),n("p",jo,c(a.value.errors.course_template_id),1)):p("",!0)])):p("",!0),a.value.selectedCourse?(s(),n("div",So,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Units (Auto-filled)",-1)),B(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>a.value.units=o),type:"number",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed"},null,512),[[X,a.value.units]])])):p("",!0),a.value.selectedCourse?(s(),n("div",Mo,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Section *",-1)),B(e("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>a.value.section=o),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent",placeholder:"e.g., Section A"},null,512),[[X,a.value.section]]),a.value.errors.section?(s(),n("p",To,c(a.value.errors.section),1)):p("",!0)])):p("",!0),a.value.selectedCourse?(s(),n("div",Ao,[t[63]||(t[63]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Academic Year",-1)),e("input",{value:((he=T.value)==null?void 0:he.year_name)||"No active year",type:"text",readonly:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed"},null,8,$o),t[64]||(t[64]=e("p",{class:"mt-1 text-xs text-gray-500"},"Academic year is set by admin",-1))])):p("",!0),a.value.selectedCourse?(s(),n("div",Eo,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),B(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=o=>a.value.description=o),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent",placeholder:"Course description..."},null,512),[[X,a.value.description]]),a.value.errors.description?(s(),n("p",Oo,c(a.value.errors.description),1)):p("",!0)])):p("",!0),e("div",Fo,[e("button",{type:"button",onClick:t[15]||(t[15]=o=>y.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition"}," Cancel "),e("button",{type:"submit",disabled:a.value.processing||!T.value||!a.value.selectedCourse,class:"flex-1 px-4 py-2 bg-red-900 hover:bg-red-800 text-white rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed"},c(a.value.processing?"Creating...":"Create Course"),9,zo)])],32)])])])):p("",!0),M.value?(s(),n("div",Bo,[e("div",No,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[16]||(t[16]=o=>M.value=!1)}),e("div",Po,[e("div",Vo,[t[67]||(t[67]=e("h3",{class:"text-xl font-bold text-gray-900"},"Join Course",-1)),e("button",{onClick:t[17]||(t[17]=o=>M.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[66]||(t[66]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:de(Me,["prevent"]),class:"space-y-4"},[e("div",null,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Join Code *",-1)),B(e("input",{"onUpdate:modelValue":t[18]||(t[18]=o=>_.value.join_code=o),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent text-center text-2xl font-bold tracking-wider uppercase",placeholder:"ABC123",maxlength:"10"},null,512),[[X,_.value.join_code]]),_.value.errors.join_code?(s(),n("p",Do,c(_.value.errors.join_code),1)):p("",!0),t[69]||(t[69]=e("p",{class:"mt-1 text-xs text-gray-500"},"Enter the course join code provided by the course owner",-1))]),e("div",Lo,[e("button",{type:"button",onClick:t[19]||(t[19]=o=>M.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition"}," Cancel "),e("button",{type:"submit",disabled:_.value.processing,class:"flex-1 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed"},c(_.value.processing?"Joining...":"Join Course"),9,Jo)])],32)])])])):p("",!0)])}}},Io=Ce(Uo,[["__scopeId","data-v-22ebe2f2"]]);export{Io as T,_e as u};
