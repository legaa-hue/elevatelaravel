import{r as i,u as le,c as V,a as l,b as f,d as x,h as je,w as De,e,f as m,g as d,i as Z,o as a,n as y,j as h,t as r,F as w,k as A,l as ne,v as U,m as T,p as ee,q as _}from"./app-CDJn0Pzk.js";import{A as Ye}from"./AdminLayout-DcgLzAYv.js";import{_ as b}from"./InfoTooltip-Bp-fojYX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $e={class:"p-4 md:p-6 space-y-6"},Ne={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Ve={class:"flex items-center gap-2"},Ue={class:"flex items-center gap-2"},Be={class:"border-b border-gray-200"},Pe={class:"-mb-px flex space-x-8","aria-label":"Tabs"},Ee={class:"flex items-center gap-1"},Ie={class:"flex items-center gap-1"},Fe={class:"flex items-center gap-1"},ze={key:0,class:"bg-green-50 border-l-4 border-green-500 p-3 md:p-4 rounded-lg"},Oe={class:"flex items-center"},He={class:"text-sm md:text-base text-green-700"},Le={class:"font-bold"},Xe={key:1,class:"bg-yellow-50 border-l-4 border-yellow-500 p-3 md:p-4 rounded-lg"},Re={class:"md:hidden space-y-4"},qe={class:"flex justify-between items-start"},Ge={class:"text-lg font-bold text-gray-900"},Je=["onClick"],Ke={class:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full"},Qe={class:"flex items-center gap-2"},We=["onClick"],Ze={class:"mr-1"},et={class:"space-y-2 text-sm"},tt={class:"flex items-center gap-2"},st={class:"text-gray-900"},ot={class:"flex items-center gap-2"},at={class:"text-gray-500"},rt={class:"flex flex-col gap-2 pt-2 border-t border-gray-200"},lt=["onClick"],nt={class:"flex gap-2"},dt={class:"flex-1 flex items-center gap-1"},it=["onClick"],ut={class:"flex-1 flex items-center gap-1"},ct=["onClick"],pt={key:0,class:"bg-white rounded-lg shadow-md p-8 text-center text-gray-500"},mt={class:"hidden md:block bg-white rounded-lg shadow-md overflow-hidden"},xt={class:"overflow-x-auto"},gt={class:"min-w-full divide-y divide-gray-200"},yt={class:"bg-white divide-y divide-gray-200"},vt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"text-sm font-bold text-gray-900"},ft=["onClick"],ht={class:"px-6 py-4 whitespace-nowrap"},wt={class:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full"},_t={class:"px-6 py-4 whitespace-nowrap"},kt=["onClick"],Ct={class:"mr-1"},At={class:"px-6 py-4 whitespace-nowrap text-sm"},Tt=["onClick"],St={key:1,class:"text-gray-400"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},Yt=["onClick"],$t=["onClick"],Nt={key:0},Vt={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Ut={class:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto"},Bt={class:"p-6"},Pt={class:"flex gap-3 pt-4"},Et=["disabled"],It={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Ft={class:"bg-white rounded-lg shadow-xl max-w-lg w-full"},zt={class:"p-6"},Ot={class:"flex gap-3"},Ht=["disabled"],Lt={class:"space-y-4"},Xt={class:"bg-white rounded-lg shadow-md overflow-hidden"},Rt={class:"min-w-full divide-y divide-gray-200"},qt={class:"bg-white divide-y divide-gray-200"},Gt={class:"px-6 py-4 whitespace-nowrap"},Jt={class:"text-sm font-medium text-gray-900"},Kt={class:"px-6 py-4"},Qt={class:"text-sm text-gray-600"},Wt={class:"px-6 py-4 whitespace-nowrap"},Zt={class:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800"},es={class:"px-6 py-4 whitespace-nowrap"},ts={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},ss=["onClick"],os=["onClick"],as={key:0},rs={class:"space-y-4"},ls={class:"bg-white rounded-lg shadow-md overflow-hidden"},ns={class:"min-w-full divide-y divide-gray-200"},ds={class:"bg-white divide-y divide-gray-200"},is={class:"px-6 py-4 whitespace-nowrap"},us={class:"text-sm font-medium text-gray-900"},cs={class:"px-6 py-4"},ps={class:"text-sm text-gray-900"},ms={class:"px-6 py-4 whitespace-nowrap"},xs={class:"px-6 py-4"},gs={class:"text-sm text-gray-600"},ys={class:"px-6 py-4 whitespace-nowrap"},vs={class:"px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800"},bs={class:"px-6 py-4 whitespace-nowrap"},fs={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},hs=["onClick"],ws=["onClick"],_s={key:0},ks={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Cs={class:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"},As={class:"p-6"},Ts={class:"space-y-4"},Ss={class:"flex justify-between items-start"},Ms={class:"flex-1"},js={class:"flex items-center gap-2 mb-2"},Ds={class:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full"},Ys={class:"text-sm text-gray-600 mb-1"},$s={class:"text-sm text-gray-600 mb-1"},Ns={key:0,class:"text-sm text-gray-700 mt-2"},Vs={class:"flex gap-2"},Us=["onClick"],Bs=["onClick"],Ps={class:"mt-6"},Es={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4"},Is={class:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto"},Fs={class:"p-6"},zs={class:"flex justify-between items-center mb-4"},Os={class:"space-y-2"},Hs=["onClick"],Ls={class:"font-medium text-gray-900 group-hover:text-red-900"},Xs={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Rs={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},qs={class:"px-6 py-4 border-b border-gray-200"},Gs={class:"text-lg font-semibold text-gray-900"},Js={class:"px-6 py-4 space-y-4"},Ks={class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},Qs=["disabled"],Ws={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Zs={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},eo={class:"px-6 py-4"},to={class:"text-gray-600"},so={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},oo={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},ao={class:"px-6 py-4 border-b border-gray-200"},ro={class:"text-lg font-semibold text-gray-900"},lo={class:"px-6 py-4 space-y-4"},no=["value"],io={class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},uo=["disabled"],co={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},po={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},mo={class:"px-6 py-4"},xo={class:"text-gray-600"},fo={__name:"AcademicYear",props:{academicYears:Array,activeYear:Object,programs:{type:Array,default:()=>[]},courseTemplates:{type:Array,default:()=>[]}},setup(v){const de=v,p=i("academic-years"),B=i(!1),P=i(!1),L=i(!1),E=i(!1),X=i(null),te=i([]),Y=i(5),I=i(!1),$=i(!1),c=i({id:null,name:"",description:"",status:"Active"}),F=i(!1),S=i(null),z=i(!1),N=i(!1);i(""),i(!1);const n=i({id:null,program_id:"",course_code:"",course_name:"",course_type:"Major Course",units:3,status:"Active"}),O=i(!1),M=i(null),g=le({year_name:"",file:null,status:"Inactive",notes:""}),j=le({notes:""}),se=V(()=>{const o=new Date().getFullYear(),t=[];for(let k=0;k<20;k++){const C=o+k,s=C+1;t.push(`${C}-${s}`)}return t}),ie=V(()=>se.value.slice(0,Y.value)),ue=V(()=>Y.value<se.value.length),ce=()=>{Y.value+=3},pe=o=>{g.year_name=o,E.value=!1,Y.value=5},D=V(()=>{const o={};return de.academicYears.forEach(t=>{o[t.year_name]||(o[t.year_name]=[]),o[t.year_name].push(t)}),o}),H=V(()=>Object.entries(D.value).map(([o,t])=>[...t].sort((C,s)=>new Date(s.created_at)-new Date(C.created_at))[0]).sort((o,t)=>t.year_name.localeCompare(o.year_name))),me=o=>{g.file=o.target.files[0]},xe=()=>{g.post(route("admin.academic-year.store"),{onSuccess:()=>{g.reset(),B.value=!1},forceFormData:!0})},oe=o=>{_.patch(route("admin.academic-year.updateStatus",o.id),{status:o.status==="Active"?"Inactive":"Active"})},ae=o=>{X.value=o,j.notes=o.notes||"",P.value=!0},ge=()=>{j.put(route("admin.academic-year.update",X.value.id),{onSuccess:()=>{P.value=!1,X.value=null}})},re=o=>{te.value=D.value[o]||[],L.value=!0},R=o=>{confirm(`Are you sure you want to delete ${o.year_name} (${o.version})?`)&&_.delete(route("admin.academic-year.destroy",o.id))},q=o=>{window.location.href=route("admin.academic-year.download",o.id)},G=o=>o==="Active"?"ðŸŸ¢":"âšª",J=o=>o==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600",K=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ye=()=>{c.value={id:null,name:"",description:"",status:"Active"},$.value=!1,I.value=!0},ve=o=>{c.value={id:o.id,name:o.name,description:o.description||"",status:o.status},$.value=!0,I.value=!0},Q=()=>{I.value=!1},be=()=>{$.value?_.put(route("admin.programs.update",c.value.id),{name:c.value.name,description:c.value.description,status:c.value.status},{onSuccess:()=>{Q()}}):_.post(route("admin.programs.store"),{name:c.value.name,description:c.value.description,status:c.value.status},{onSuccess:()=>{Q()}})},fe=o=>{S.value=o,F.value=!0},he=()=>{S.value&&_.delete(route("admin.programs.destroy",S.value.id),{onSuccess:()=>{F.value=!1,S.value=null}})},we=()=>{F.value=!1,S.value=null},_e=()=>{n.value={id:null,program_id:"",course_code:"",course_name:"",course_type:"Major Course",units:3,status:"Active"},N.value=!1,z.value=!0},ke=o=>{n.value={id:o.id,program_id:o.program_id,course_code:o.course_code,course_name:o.course_name,course_type:o.course_type,units:o.units,status:o.status},N.value=!0,z.value=!0},W=()=>{z.value=!1},Ce=()=>{N.value?_.put(route("admin.course-templates.update",n.value.id),{program_id:n.value.program_id,course_code:n.value.course_code,course_name:n.value.course_name,course_type:n.value.course_type,units:n.value.units,status:n.value.status},{onSuccess:()=>{W()}}):_.post(route("admin.course-templates.store"),{program_id:n.value.program_id,course_code:n.value.course_code,course_name:n.value.course_name,course_type:n.value.course_type,units:n.value.units,status:n.value.status},{onSuccess:()=>{W()}})},Ae=o=>{M.value=o,O.value=!0},Te=()=>{M.value&&_.delete(route("admin.course-templates.destroy",M.value.id),{onSuccess:()=>{O.value=!1,M.value=null}})},Se=()=>{O.value=!1,M.value=null};return(o,t)=>(a(),l(w,null,[f(x(je),{title:"Academic Year Management"}),f(Ye,null,{default:De(()=>{var k,C;return[e("div",$e,[e("div",Ne,[e("div",Ve,[t[21]||(t[21]=e("h1",{class:"text-2xl md:text-3xl font-bold text-gray-900"},"Academic Year Management",-1)),f(b,{title:"Academic Year Management",content:"Manage academic years, programs, and course templates. Control which academic year is active, add/edit programs, and create course templates that can be used when setting up courses.",position:"right"}),t[22]||(t[22]=e("p",{class:"mt-1 md:mt-2 text-sm md:text-base text-gray-600 ml-2"},"Manage academic years, programs, and course templates",-1))]),e("div",Ue,[p.value==="academic-years"?(a(),l("button",{key:0,onClick:t[0]||(t[0]=s=>B.value=!0),class:"w-full sm:w-auto bg-red-900 hover:bg-red-800 hover:scale-105 text-white px-4 md:px-6 py-2 md:py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2"},[...t[23]||(t[23]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"text-sm md:text-base"},"Create Academic Year",-1)])])):d("",!0),p.value==="academic-years"?(a(),Z(b,{key:1,title:"Create Academic Year",content:"Add a new academic year to the system. You can specify the year name (e.g., 2024-2025) and upload configuration files if needed.",position:"left"})):d("",!0),p.value==="programs"?(a(),l("button",{key:2,onClick:ye,class:"w-full sm:w-auto bg-red-900 hover:bg-red-800 hover:scale-105 text-white px-4 md:px-6 py-2 md:py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2"},[...t[24]||(t[24]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"text-sm md:text-base"},"Add Program",-1)])])):d("",!0),p.value==="programs"?(a(),Z(b,{key:3,title:"Add Program",content:"Create a new academic program (e.g., BS Computer Science, BS Information Technology). Programs group related courses together.",position:"left"})):d("",!0),p.value==="course-templates"?(a(),l("button",{key:4,onClick:_e,class:"w-full sm:w-auto bg-red-900 hover:bg-red-800 hover:scale-105 text-white px-4 md:px-6 py-2 md:py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2"},[...t[25]||(t[25]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"text-sm md:text-base"},"Add Course Template",-1)])])):d("",!0),p.value==="course-templates"?(a(),Z(b,{key:5,title:"Add Course Template",content:"Create a reusable course template with code, name, type, and units. Templates make it easier to create new course sections.",position:"left"})):d("",!0)])]),e("div",Be,[e("nav",Pe,[e("div",Ee,[e("button",{onClick:t[1]||(t[1]=s=>p.value="academic-years"),class:y([p.value==="academic-years"?"border-red-900 text-red-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Academic Years ",2),f(b,{title:"Academic Years Tab",content:"View and manage all academic years. Set which year is currently active and control year transitions.",position:"top"})]),e("div",Ie,[e("button",{onClick:t[2]||(t[2]=s=>p.value="programs"),class:y([p.value==="programs"?"border-red-900 text-red-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Programs ",2),f(b,{title:"Programs Tab",content:"Manage academic programs (e.g., BS Computer Science, BS IT). Add, edit, or deactivate programs.",position:"top"})]),e("div",Fe,[e("button",{onClick:t[3]||(t[3]=s=>p.value="course-templates"),class:y([p.value==="course-templates"?"border-red-900 text-red-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Course Templates ",2),f(b,{title:"Course Templates Tab",content:"Manage reusable course templates with predefined course codes, names, types, and units for easier course creation.",position:"top"})])])]),m(e("div",null,[v.activeYear?(a(),l("div",ze,[e("div",Oe,[t[27]||(t[27]=e("span",{class:"text-xl md:text-2xl mr-2 md:mr-3"},"ðŸŸ¢",-1)),e("div",null,[t[26]||(t[26]=e("h3",{class:"text-base md:text-lg font-semibold text-green-900"},"Current Active Academic Year",-1)),e("p",He,[e("span",Le,r(v.activeYear.year_name),1),h(" ("+r(v.activeYear.version)+") ",1)])])])])):(a(),l("div",Xe,[...t[28]||(t[28]=[e("div",{class:"flex items-center"},[e("span",{class:"text-xl md:text-2xl mr-2 md:mr-3"},"âš ï¸"),e("div",null,[e("h3",{class:"text-base md:text-lg font-semibold text-yellow-900"},"No Active Academic Year"),e("p",{class:"text-sm md:text-base text-yellow-700"},"Please activate an academic year to enable course creation")])],-1)])])),e("div",Re,[(a(!0),l(w,null,A(H.value,s=>(a(),l("div",{key:s.id,class:"bg-white rounded-lg shadow-md p-4 space-y-3"},[e("div",qe,[e("div",null,[e("h3",Ge,r(s.year_name),1),D.value[s.year_name].length>1?(a(),l("button",{key:0,onClick:u=>re(s.year_name),class:"text-xs text-blue-600 hover:text-blue-800 mt-1"}," View "+r(D.value[s.year_name].length)+" versions ",9,Je)):d("",!0)]),e("span",Ke,r(s.version),1)]),e("div",Qe,[t[29]||(t[29]=e("span",{class:"text-sm text-gray-600 font-medium"},"Status:",-1)),e("button",{onClick:u=>oe(s),class:y([J(s.status),"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium cursor-pointer hover:opacity-80 transition"])},[e("span",Ze,r(G(s.status)),1),h(" "+r(s.status),1)],10,We)]),e("div",et,[e("div",tt,[t[30]||(t[30]=e("span",{class:"text-gray-600 font-medium"},"Uploaded By:",-1)),e("span",st,r(s.uploader?s.uploader.first_name+" "+s.uploader.last_name:"System"),1)]),e("div",ot,[t[31]||(t[31]=e("span",{class:"text-gray-600 font-medium"},"Date:",-1)),e("span",at,r(K(s.created_at)),1)])]),e("div",rt,[s.file_path?(a(),l("button",{key:0,onClick:u=>q(s),class:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition"},[...t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),h(" Download File ",-1)])],8,lt)):d("",!0),e("div",nt,[e("div",dt,[e("button",{onClick:u=>ae(s),class:"flex-1 px-4 py-2 bg-yellow-100 hover:bg-yellow-200 hover:scale-105 text-yellow-800 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1"}," âœï¸ Edit Notes ",8,it),f(b,{title:"Edit Notes",content:"Add or modify notes for this academic year to keep track of important information or changes.",position:"left"})]),e("div",ut,[e("button",{onClick:u=>R(s),class:"flex-1 px-4 py-2 bg-red-100 hover:bg-red-200 hover:scale-105 text-red-800 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1"}," ðŸ—‘ï¸ Delete ",8,ct),f(b,{title:"âš ï¸ Delete Academic Year",content:"CAUTION: This will permanently remove this academic year and ALL associated data including courses, grades, and submissions. This action cannot be undone!",position:"left"})])])])]))),128)),H.value.length===0?(a(),l("div",pt," No academic years found. Create one to get started. ")):d("",!0)]),e("div",mt,[e("div",xt,[e("table",gt,[t[35]||(t[35]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Year"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Version"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"File"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Uploaded By"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",yt,[(a(!0),l(w,null,A(H.value,s=>(a(),l("tr",{key:s.id,class:"hover:bg-gray-50 transition"},[e("td",vt,[e("div",bt,r(s.year_name),1),D.value[s.year_name].length>1?(a(),l("button",{key:0,onClick:u=>re(s.year_name),class:"text-xs text-blue-600 hover:text-blue-800"}," View "+r(D.value[s.year_name].length)+" versions ",9,ft)):d("",!0)]),e("td",ht,[e("span",wt,r(s.version),1)]),e("td",_t,[e("button",{onClick:u=>oe(s),class:y([J(s.status),"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium cursor-pointer hover:opacity-80 transition"])},[e("span",Ct,r(G(s.status)),1),h(" "+r(s.status),1)],10,kt)]),e("td",At,[s.file_path?(a(),l("button",{key:0,onClick:u=>q(s),class:"text-blue-600 hover:text-blue-800 flex items-center gap-1"},[...t[33]||(t[33]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),h(" Download ",-1)])],8,Tt)):(a(),l("span",St,"No file"))]),e("td",Mt,r(s.uploader?s.uploader.first_name+" "+s.uploader.last_name:"System"),1),e("td",jt,r(K(s.created_at)),1),e("td",Dt,[e("button",{onClick:u=>ae(s),class:"text-yellow-600 hover:text-yellow-900",title:"Edit Notes"}," âœï¸ ",8,Yt),e("button",{onClick:u=>R(s),class:"text-red-600 hover:text-red-900",title:"Delete"}," ðŸ—‘ï¸ ",8,$t)])]))),128)),H.value.length===0?(a(),l("tr",Nt,[...t[34]||(t[34]=[e("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"}," No academic years found. Create one to get started. ",-1)])])):d("",!0)])])])]),B.value?(a(),l("div",Vt,[e("div",Ut,[e("div",Bt,[t[45]||(t[45]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"Create Academic Year",-1)),e("form",{onSubmit:ne(xe,["prevent"]),class:"space-y-4"},[e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Year Name",-1)),e("div",{onClick:t[4]||(t[4]=s=>E.value=!0),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent cursor-pointer hover:bg-gray-50 flex justify-between items-center"},[e("span",{class:y(x(g).year_name?"text-gray-900":"text-gray-400")},r(x(g).year_name||"Select academic year..."),3),t[36]||(t[36]=e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),t[38]||(t[38]=e("p",{class:"mt-1 text-xs text-gray-500"},"If this year exists, a new version will be created",-1))]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Upload File (Optional)",-1)),e("input",{onChange:me,type:"file",accept:".pdf,.doc,.docx,.xlsx,.xls",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900"},null,32),t[40]||(t[40]=e("p",{class:"mt-1 text-xs text-gray-500"},"Supported: PDF, DOC, DOCX, XLSX (Max: 10MB)",-1))]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),m(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>x(g).status=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900"},[...t[41]||(t[41]=[e("option",{value:"Inactive"},"Inactive",-1),e("option",{value:"Active"},"Active",-1)])],512),[[U,x(g).status]]),t[43]||(t[43]=e("p",{class:"mt-1 text-xs text-gray-500"},"Only one year can be active at a time",-1))]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes (Optional)",-1)),m(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>x(g).notes=s),rows:"3",placeholder:"Add any notes or comments...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900"},null,512),[[T,x(g).notes]])]),e("div",Pt,[e("button",{type:"submit",disabled:x(g).processing,class:"flex-1 bg-red-900 hover:bg-red-800 text-white py-2 px-4 rounded-lg font-medium transition disabled:opacity-50"},r(x(g).processing?"Creating...":"Create"),9,Et),e("button",{onClick:t[7]||(t[7]=s=>B.value=!1),type:"button",class:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg font-medium transition"}," Cancel ")])],32)])])])):d("",!0),P.value?(a(),l("div",It,[e("div",Ft,[e("div",zt,[t[47]||(t[47]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"Edit Notes",-1)),e("form",{onSubmit:ne(ge,["prevent"]),class:"space-y-4"},[e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes",-1)),m(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=s=>x(j).notes=s),rows:"5",placeholder:"Add any notes or comments...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900"},null,512),[[T,x(j).notes]])]),e("div",Ot,[e("button",{type:"submit",disabled:x(j).processing,class:"flex-1 bg-red-900 hover:bg-red-800 text-white py-2 px-4 rounded-lg font-medium transition disabled:opacity-50"},r(x(j).processing?"Saving...":"Save"),9,Ht),e("button",{onClick:t[9]||(t[9]=s=>P.value=!1),type:"button",class:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg font-medium transition"}," Cancel ")])],32)])])])):d("",!0)],512),[[ee,p.value==="academic-years"]]),m(e("div",Lt,[e("div",Xt,[e("table",Rt,[t[49]||(t[49]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Program Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Course Templates "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",qt,[(a(!0),l(w,null,A(v.programs,s=>(a(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Gt,[e("div",Jt,r(s.name),1)]),e("td",Kt,[e("div",Qt,r(s.description||"N/A"),1)]),e("td",Wt,[e("span",Zt,r(s.course_templates_count)+" Templates ",1)]),e("td",es,[e("span",{class:y(["px-2 py-1 text-xs font-semibold rounded-full",{"bg-green-100 text-green-800":s.status==="Active","bg-red-100 text-red-800":s.status==="Inactive"}])},r(s.status),3)]),e("td",ts,[e("button",{onClick:u=>ve(s),class:"text-blue-600 hover:text-blue-900"}," Edit ",8,ss),e("button",{onClick:u=>fe(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,os)])]))),128)),v.programs.length===0?(a(),l("tr",as,[...t[48]||(t[48]=[e("td",{colspan:"5",class:"px-6 py-8 text-center text-gray-500"},' No programs found. Click "Add Program" to create one. ',-1)])])):d("",!0)])])])],512),[[ee,p.value==="programs"]]),m(e("div",rs,[e("div",ls,[e("table",ns,[t[51]||(t[51]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Course Code "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Course Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Course Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Program "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Units "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ds,[(a(!0),l(w,null,A(v.courseTemplates,s=>{var u;return a(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",is,[e("div",us,r(s.course_code),1)]),e("td",cs,[e("div",ps,r(s.course_name),1)]),e("td",ms,[e("span",{class:y(["px-2 py-1 text-xs font-semibold rounded-full",{"bg-blue-100 text-blue-800":s.course_type==="Major Course","bg-green-100 text-green-800":s.course_type==="Basic Course","bg-purple-100 text-purple-800":s.course_type==="Thesis"}])},r(s.course_type),3)]),e("td",xs,[e("div",gs,r(((u=s.program)==null?void 0:u.name)||"N/A"),1)]),e("td",ys,[e("span",vs,r(s.units)+" Units ",1)]),e("td",bs,[e("span",{class:y(["px-2 py-1 text-xs font-semibold rounded-full",{"bg-green-100 text-green-800":s.status==="Active","bg-red-100 text-red-800":s.status==="Inactive"}])},r(s.status),3)]),e("td",fs,[e("button",{onClick:Me=>ke(s),class:"text-blue-600 hover:text-blue-900"}," Edit ",8,hs),e("button",{onClick:Me=>Ae(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,ws)])])}),128)),v.courseTemplates.length===0?(a(),l("tr",_s,[...t[50]||(t[50]=[e("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"},' No course templates found. Click "Add Course Template" to create one. ',-1)])])):d("",!0)])])])],512),[[ee,p.value==="course-templates"]]),L.value?(a(),l("div",ks,[e("div",Cs,[e("div",As,[t[55]||(t[55]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"Version History",-1)),e("div",Ts,[(a(!0),l(w,null,A(te.value,s=>(a(),l("div",{key:s.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition"},[e("div",Ss,[e("div",Ms,[e("div",js,[e("span",Ds,r(s.version),1),e("span",{class:y([J(s.status),"px-2 py-1 text-xs font-medium rounded-full"])},r(G(s.status))+" "+r(s.status),3)]),e("p",Ys,[t[52]||(t[52]=e("strong",null,"Uploaded by:",-1)),h(" "+r(s.uploader?s.uploader.first_name+" "+s.uploader.last_name:"System"),1)]),e("p",$s,[t[53]||(t[53]=e("strong",null,"Date:",-1)),h(" "+r(K(s.created_at)),1)]),s.notes?(a(),l("p",Ns,[t[54]||(t[54]=e("strong",null,"Notes:",-1)),h(" "+r(s.notes),1)])):d("",!0)]),e("div",Vs,[s.file_path?(a(),l("button",{key:0,onClick:u=>q(s),class:"text-blue-600 hover:text-blue-800 p-2",title:"Download"}," ðŸ“¥ ",8,Us)):d("",!0),e("button",{onClick:u=>R(s),class:"text-red-600 hover:text-red-900 p-2",title:"Delete"}," ðŸ—‘ï¸ ",8,Bs)])])]))),128))]),e("div",Ps,[e("button",{onClick:t[10]||(t[10]=s=>L.value=!1),class:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg font-medium transition"}," Close ")])])])])):d("",!0),E.value?(a(),l("div",Es,[e("div",Is,[e("div",Fs,[e("div",zs,[t[57]||(t[57]=e("h2",{class:"text-xl font-bold text-gray-900"},"Select Academic Year",-1)),e("button",{onClick:t[11]||(t[11]=s=>{E.value=!1,Y.value=5}),class:"text-gray-400 hover:text-gray-600"},[...t[56]||(t[56]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Os,[(a(!0),l(w,null,A(ie.value,s=>(a(),l("button",{key:s,onClick:u=>pe(s),class:"w-full text-left px-4 py-3 border border-gray-200 rounded-lg hover:bg-red-50 hover:border-red-900 transition flex justify-between items-center group"},[e("span",Ls,r(s),1),t[58]||(t[58]=e("svg",{class:"w-5 h-5 text-gray-400 group-hover:text-red-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))],8,Hs))),128)),ue.value?(a(),l("button",{key:0,onClick:ce,class:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-red-900 hover:bg-red-50 transition text-gray-600 hover:text-red-900 font-medium flex items-center justify-center gap-2"},[...t[59]||(t[59]=[e("span",null,"Load More Years",-1),e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])])):d("",!0)])])])])):d("",!0),I.value?(a(),l("div",Xs,[e("div",Rs,[e("div",qs,[e("h3",Gs,r($.value?"Edit Program":"Create New Program"),1)]),e("div",Js,[e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Program Name *",-1)),m(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>c.value.name=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"e.g., MASTER OF ARTS IN EDUCATION"},null,512),[[T,c.value.name]])]),e("div",null,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),m(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=s=>c.value.description=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Brief description of the program"},null,512),[[T,c.value.description]])]),e("div",null,[t[63]||(t[63]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),m(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>c.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"},[...t[62]||(t[62]=[e("option",{value:"Active"},"Active",-1),e("option",{value:"Inactive"},"Inactive",-1)])],512),[[U,c.value.status]])])]),e("div",Ks,[e("button",{onClick:Q,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:be,class:"px-4 py-2 bg-red-900 text-white rounded-lg hover:bg-red-800",disabled:!c.value.name},r($.value?"Update":"Create"),9,Qs)])])])):d("",!0),F.value?(a(),l("div",Ws,[e("div",Zs,[t[64]||(t[64]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Confirm Delete")],-1)),e("div",eo,[e("p",to,' Are you sure you want to delete the program "'+r((k=S.value)==null?void 0:k.name)+'"? This action cannot be undone. ',1)]),e("div",{class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},[e("button",{onClick:we,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:he,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Delete ")])])])):d("",!0),z.value?(a(),l("div",so,[e("div",oo,[e("div",ao,[e("h3",ro,r(N.value?"Edit Course Template":"Create New Course Template"),1)]),e("div",lo,[e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Program *",-1)),m(e("select",{"onUpdate:modelValue":t[15]||(t[15]=s=>n.value.program_id=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"},[t[65]||(t[65]=e("option",{value:""},"Select a program",-1)),(a(!0),l(w,null,A(v.programs.filter(s=>s.status==="Active"),s=>(a(),l("option",{key:s.id,value:s.id},r(s.name),9,no))),128))],512),[[U,n.value.program_id]])]),e("div",null,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Course Code *",-1)),m(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>n.value.course_code=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"e.g., MATH101"},null,512),[[T,n.value.course_code]])]),e("div",null,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Course Name *",-1)),m(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>n.value.course_name=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"e.g., Calculus I"},null,512),[[T,n.value.course_name]])]),e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Course Type *",-1)),m(e("select",{"onUpdate:modelValue":t[18]||(t[18]=s=>n.value.course_type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"},[...t[69]||(t[69]=[e("option",{value:"Major Course"},"Major Course",-1),e("option",{value:"Basic Course"},"Basic Course",-1),e("option",{value:"Thesis"},"Thesis",-1)])],512),[[U,n.value.course_type]])]),e("div",null,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Units *",-1)),m(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>n.value.units=s),type:"number",min:"1",max:"12",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"},null,512),[[T,n.value.units,void 0,{number:!0}]]),t[72]||(t[72]=e("p",{class:"mt-1 text-xs text-gray-500"},"Enter a value between 1 and 12",-1))]),e("div",null,[t[74]||(t[74]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),m(e("select",{"onUpdate:modelValue":t[20]||(t[20]=s=>n.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"},[...t[73]||(t[73]=[e("option",{value:"Active"},"Active",-1),e("option",{value:"Inactive"},"Inactive",-1)])],512),[[U,n.value.status]])])]),e("div",io,[e("button",{onClick:W,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:Ce,class:"px-4 py-2 bg-red-900 text-white rounded-lg hover:bg-red-800",disabled:!n.value.program_id||!n.value.course_code||!n.value.course_name||n.value.units<1||n.value.units>12},r(N.value?"Update":"Create"),9,uo)])])])):d("",!0),O.value?(a(),l("div",co,[e("div",po,[t[75]||(t[75]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Confirm Delete")],-1)),e("div",mo,[e("p",xo,' Are you sure you want to delete the course template "'+r((C=M.value)==null?void 0:C.course_name)+'"? This action cannot be undone. ',1)]),e("div",{class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},[e("button",{onClick:Se,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:Te,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Delete ")])])])):d("",!0)])]}),_:1})],64))}};export{fo as default};
