import{r as c,a,b as h,d as V,h as j,w as E,e,g as b,o as u,F as y,k,t as l,n as B,f as p,v as C,m as f,q as n}from"./app-CDJn0Pzk.js";import{A as I}from"./AdminLayout-DcgLzAYv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"p-6"},z={class:"bg-white rounded-lg shadow-md overflow-hidden"},F={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-white divide-y divide-gray-200"},L={class:"px-6 py-4 whitespace-nowrap"},P={class:"text-sm font-medium text-gray-900"},$={class:"px-6 py-4"},G={class:"text-sm text-gray-900"},J={class:"px-6 py-4"},K={class:"text-sm text-gray-600"},O={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800"},R={class:"px-6 py-4 whitespace-nowrap"},W={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},X=["onClick"],Y=["onClick"],Z={key:0},ee={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},te={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},se={class:"px-6 py-4 border-b border-gray-200"},oe={class:"text-lg font-semibold text-gray-900"},re={class:"px-6 py-4 space-y-4"},le=["value"],ae={class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},ue=["disabled"],de={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ne={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},ie={class:"px-6 py-4"},ce={class:"text-gray-600"},ge={__name:"CourseTemplates",props:{courseTemplates:{type:Array,required:!0},programs:{type:Array,required:!0}},setup(g){const m=c(!1),i=c(!1),s=c({id:null,program_id:"",course_code:"",course_name:"",units:3,status:"active"}),x=c(!1),d=c(null),A=()=>{s.value={id:null,program_id:"",course_code:"",course_name:"",units:3,status:"Active"},i.value=!1,m.value=!0},T=r=>{s.value={id:r.id,program_id:r.program_id,course_code:r.course_code,course_name:r.course_name,units:r.units,status:r.status},i.value=!0,m.value=!0},v=()=>{m.value=!1,s.value={id:null,program_id:"",course_code:"",course_name:"",units:3,status:"Active"}},S=()=>{i.value?n.put(route("admin.course-templates.update",s.value.id),{program_id:s.value.program_id,course_code:s.value.course_code,course_name:s.value.course_name,units:s.value.units,status:s.value.status},{preserveScroll:!0,onSuccess:()=>{v(),n.reload({only:["templates"]})}}):n.post(route("admin.course-templates.store"),{program_id:s.value.program_id,course_code:s.value.course_code,course_name:s.value.course_name,units:s.value.units,status:s.value.status},{preserveScroll:!0,onSuccess:()=>{v(),n.reload({only:["templates"]})}})},D=r=>{d.value=r,x.value=!0},M=()=>{d.value&&n.delete(route("admin.course-templates.destroy",d.value.id),{preserveScroll:!0,onSuccess:()=>{x.value=!1,d.value=null,n.reload({only:["templates"]})}})},U=()=>{x.value=!1,d.value=null};return(r,t)=>(u(),a(y,null,[h(V(j),{title:"Course Templates"}),h(I,null,{default:E(()=>{var _;return[e("div",q,[e("div",{class:"mb-6 flex items-center justify-between"},[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Course Templates"),e("p",{class:"mt-1 text-sm text-gray-600"},"Manage course templates for each program")],-1)),e("button",{onClick:A,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2"},[...t[5]||(t[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",null,"Add Course Template",-1)])])]),e("div",z,[e("table",F,[t[8]||(t[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Course Code "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Course Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Program "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Units "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",H,[(u(!0),a(y,null,k(g.courseTemplates,o=>{var w;return u(),a("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",L,[e("div",P,l(o.course_code),1)]),e("td",$,[e("div",G,l(o.course_name),1)]),e("td",J,[e("div",K,l(((w=o.program)==null?void 0:w.name)||"N/A"),1)]),e("td",O,[e("span",Q,l(o.units)+" Units ",1)]),e("td",R,[e("span",{class:B(["px-2 py-1 text-xs font-semibold rounded-full",{"bg-green-100 text-green-800":o.status==="Active","bg-red-100 text-red-800":o.status==="Inactive"}])},l(o.status),3)]),e("td",W,[e("button",{onClick:N=>T(o),class:"text-blue-600 hover:text-blue-900"}," Edit ",8,X),e("button",{onClick:N=>D(o),class:"text-red-600 hover:text-red-900"}," Delete ",8,Y)])])}),128)),g.courseTemplates.length===0?(u(),a("tr",Z,[...t[7]||(t[7]=[e("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},' No course templates found. Click "Add Course Template" to create one. ',-1)])])):b("",!0)])])])]),m.value?(u(),a("div",ee,[e("div",te,[e("div",se,[e("h3",oe,l(i.value?"Edit Course Template":"Create New Course Template"),1)]),e("div",re,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Program * ",-1)),p(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.program_id=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[9]||(t[9]=e("option",{value:""},"Select a program",-1)),(u(!0),a(y,null,k(g.programs.filter(o=>o.status==="Active"),o=>(u(),a("option",{key:o.id,value:o.id},l(o.name),9,le))),128))],512),[[C,s.value.program_id]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Course Code * ",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.course_code=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., MATH101"},null,512),[[f,s.value.course_code]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Course Name * ",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.course_name=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Calculus I"},null,512),[[f,s.value.course_name]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Units * ",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.units=o),type:"number",min:"1",max:"12",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[f,s.value.units,void 0,{number:!0}]]),t[14]||(t[14]=e("p",{class:"mt-1 text-xs text-gray-500"},"Enter a value between 1 and 12",-1))]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Status ",-1)),p(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.value.status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[15]||(t[15]=[e("option",{value:"Active"},"Active",-1),e("option",{value:"Inactive"},"Inactive",-1)])],512),[[C,s.value.status]])])]),e("div",ae,[e("button",{onClick:v,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:S,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:!s.value.program_id||!s.value.course_code||!s.value.course_name||s.value.units<1||s.value.units>12},l(i.value?"Update":"Create"),9,ue)])])])):b("",!0),x.value?(u(),a("div",de,[e("div",ne,[t[17]||(t[17]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Confirm Delete")],-1)),e("div",ie,[e("p",ce,' Are you sure you want to delete the course template "'+l((_=d.value)==null?void 0:_.course_name)+'"? This action cannot be undone. ',1)]),e("div",{class:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3"},[e("button",{onClick:U,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:M,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Delete ")])])])):b("",!0)]}),_:1})],64))}};export{ge as default};
