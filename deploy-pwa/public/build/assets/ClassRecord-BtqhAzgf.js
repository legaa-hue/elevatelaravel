import{r as a,c as M,a as r,b as x,d as F,h as T,w as j,e,t as o,f as h,j as g,m as D,v as V,o as n,F as w,k as _,g as b,n as N,l as z,T as P}from"./app-CDJn0Pzk.js";import{A as U}from"./AdminLayout-DcgLzAYv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"space-y-6"},q={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},G={class:"bg-white rounded-lg shadow-md p-6"},R={class:"flex items-center justify-between"},$={class:"text-3xl font-bold text-red-900 mt-2"},E={class:"bg-white rounded-lg shadow-md p-6"},O={class:"flex items-center justify-between"},Q={class:"text-3xl font-bold text-green-600 mt-2"},I={class:"bg-white rounded-lg shadow-md p-6"},J={class:"flex items-center justify-between"},K={class:"text-3xl font-bold text-blue-600 mt-2"},W={class:"bg-white rounded-lg shadow-md p-6"},X={class:"flex items-center justify-between"},Z={class:"text-3xl font-bold text-purple-600 mt-2"},ee={class:"bg-white rounded-lg shadow-md p-6"},te={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},se=["value"],oe=["value"],le={class:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between text-sm"},re={class:"text-gray-600"},ne={class:"font-semibold text-red-900"},ae={class:"font-semibold text-red-900"},ie={key:0,class:"bg-white rounded-lg shadow-md p-12 text-center"},de={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ue=["onClick"],ve={class:"bg-gradient-to-br from-red-900 via-red-800 to-red-700 p-6 text-white relative overflow-hidden"},ce={class:"relative flex items-start justify-between"},me={class:"flex-1"},ge={class:"text-lg font-bold mb-2 line-clamp-2 group-hover:underline"},pe={class:"flex items-center gap-2"},fe={class:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium"},xe={class:"p-6"},he={class:"grid grid-cols-2 gap-4 mb-4"},we={class:"flex items-start gap-3"},be={class:"text-sm font-semibold text-gray-900"},ke={class:"flex items-start gap-3"},ye={class:"text-sm font-semibold text-gray-900"},Ce={class:"space-y-2 mb-4"},Me={class:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 rounded-lg p-2"},je={class:"font-medium text-gray-700"},Ve={class:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 rounded-lg p-2"},_e={class:"font-medium text-gray-700"},Be=["onClick"],Ae={class:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-red-900 to-red-700 rounded-t-2xl"},Se={class:"flex items-center gap-3 text-white"},ze={key:0,class:"text-sm text-red-100"},Pe={class:"flex-1 overflow-hidden bg-gray-100 rounded-b-2xl"},He=["src"],Le={key:1,class:"flex items-center justify-center h-full"},Ne={__name:"ClassRecord",props:{courses:{type:Array,default:()=>[]}},setup(c){const k=c,p=a(!1),m=a(null),f=a(""),i=a(""),d=a("all"),u=a("all"),v=a("all"),B=M(()=>[...new Set(k.courses.map(t=>t.program))].filter(t=>t&&t!=="N/A")),H=M(()=>[...new Set(k.courses.map(t=>t.academic_year))].filter(t=>t&&t!=="N/A")),y=M(()=>{let l=k.courses;if(i.value){const t=i.value.toLowerCase();l=l.filter(s=>s.title.toLowerCase().includes(t)||s.section.toLowerCase().includes(t)||s.teacher.first_name.toLowerCase().includes(t)||s.teacher.last_name.toLowerCase().includes(t))}return d.value!=="all"&&(l=l.filter(t=>t.status===d.value)),u.value!=="all"&&(l=l.filter(t=>t.program===u.value)),v.value!=="all"&&(l=l.filter(t=>t.academic_year===v.value)),l}),A=l=>{m.value=l,f.value=route("admin.class-record.grade-sheet.pdf",l.id),p.value=!0},S=()=>{p.value=!1,f.value="",m.value=null},L=()=>{window.location.href=route("admin.class-record.grade-sheet.download",m.value.id)};return(l,t)=>(n(),r(w,null,[x(F(T),{title:"Class Records"}),x(U,null,{default:j(()=>[e("div",Y,[t[41]||(t[41]=e("div",{class:"bg-gradient-to-r from-red-900 to-red-700 rounded-lg shadow-lg p-6 md:p-8 text-white"},[e("div",{class:"flex items-center gap-3 mb-2"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("h1",{class:"text-2xl md:text-3xl font-bold"},"Class Records & Gradebooks")]),e("p",{class:"text-red-100"},"View and access gradebooks for all courses")],-1)),e("div",q,[e("div",G,[e("div",R,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Courses",-1)),e("p",$,o(c.courses.length),1)]),t[7]||(t[7]=e("div",{class:"bg-red-100 rounded-full p-3"},[e("svg",{class:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1))])]),e("div",E,[e("div",O,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-600"},"Active Courses",-1)),e("p",Q,o(c.courses.filter(s=>s.status==="Active").length),1)]),t[9]||(t[9]=e("div",{class:"bg-green-100 rounded-full p-3"},[e("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",I,[e("div",J,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Students",-1)),e("p",K,o(c.courses.reduce((s,C)=>s+C.students_count,0)),1)]),t[11]||(t[11]=e("div",{class:"bg-blue-100 rounded-full p-3"},[e("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1))])]),e("div",W,[e("div",X,[e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-600"},"Programs",-1)),e("p",Z,o(B.value.length),1)]),t[13]||(t[13]=e("div",{class:"bg-purple-100 rounded-full p-3"},[e("svg",{class:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1))])])]),e("div",ee,[t[25]||(t[25]=e("div",{class:"flex items-center gap-2 mb-4"},[e("svg",{class:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),e("h3",{class:"text-lg font-semibold text-gray-900"},"Filters")],-1)),e("div",te,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),g(" Search ")],-1)),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),type:"text",placeholder:"Course name, teacher...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent"},null,512),[[D,i.value]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent"},[...t[15]||(t[15]=[e("option",{value:"all"},"All Statuses",-1),e("option",{value:"Active"},"Active",-1),e("option",{value:"Pending"},"Pending",-1),e("option",{value:"Archived"},"Archived",-1)])],512),[[V,d.value]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Program",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>u.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent"},[t[17]||(t[17]=e("option",{value:"all"},"All Programs",-1)),(n(!0),r(w,null,_(B.value,s=>(n(),r("option",{key:s,value:s},o(s),9,se))),128))],512),[[V,u.value]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Academic Year",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>v.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-900 focus:border-transparent"},[t[19]||(t[19]=e("option",{value:"all"},"All Years",-1)),(n(!0),r(w,null,_(H.value,s=>(n(),r("option",{key:s,value:s},o(s),9,oe))),128))],512),[[V,v.value]])])]),e("div",le,[e("span",re,[t[21]||(t[21]=g(" Showing ",-1)),e("span",ne,o(y.value.length),1),t[22]||(t[22]=g(" of ",-1)),e("span",ae,o(c.courses.length),1),t[23]||(t[23]=g(" courses ",-1))]),i.value||d.value!=="all"||u.value!=="all"||v.value!=="all"?(n(),r("button",{key:0,onClick:t[4]||(t[4]=s=>{i.value="",d.value="all",u.value="all",v.value="all"}),class:"text-red-600 hover:text-red-700 font-medium flex items-center gap-1"},[...t[24]||(t[24]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),g(" Clear Filters ",-1)])])):b("",!0)])]),y.value.length===0?(n(),r("div",ie,[...t[26]||(t[26]=[e("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No Courses Found",-1),e("p",{class:"text-gray-600"},"Try adjusting your filters",-1)])])):(n(),r("div",de,[(n(!0),r(w,null,_(y.value,s=>(n(),r("div",{key:s.id,class:"bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden group cursor-pointer border border-gray-100",onClick:C=>A(s)},[e("div",ve,[t[28]||(t[28]=e("div",{class:"absolute inset-0 opacity-10"},[e("svg",{class:"w-full h-full",xmlns:"http://www.w3.org/2000/svg"},[e("defs",null,[e("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse"},[e("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"white","stroke-width":"0.5"})])]),e("rect",{width:"100%",height:"100%",fill:"url(#grid)"})])],-1)),e("div",ce,[e("div",me,[e("h3",ge,o(s.title),1),e("div",pe,[e("span",fe,o(s.section),1),e("span",{class:N(["px-3 py-1 rounded-full text-xs font-medium",{"bg-green-500/90 text-white":s.status==="Active","bg-yellow-500/90 text-white":s.status==="Pending","bg-gray-500/90 text-white":s.status==="Archived"}])},o(s.status),3)])]),t[27]||(t[27]=e("div",{class:"bg-white/20 backdrop-blur-sm rounded-full p-3 group-hover:scale-110 transition-transform"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),e("div",xe,[e("div",he,[e("div",we,[t[30]||(t[30]=e("div",{class:"bg-blue-100 rounded-lg p-2"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",null,[t[29]||(t[29]=e("p",{class:"text-xs text-gray-500 mb-1"},"Teacher",-1)),e("p",be,o(s.teacher.first_name)+" "+o(s.teacher.last_name),1)])]),e("div",ke,[t[32]||(t[32]=e("div",{class:"bg-green-100 rounded-lg p-2"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",null,[t[31]||(t[31]=e("p",{class:"text-xs text-gray-500 mb-1"},"Students",-1)),e("p",ye,o(s.students_count),1)])])]),e("div",Ce,[e("div",Me,[t[33]||(t[33]=e("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),e("span",je,o(s.program),1)]),e("div",Ve,[t[34]||(t[34]=e("svg",{class:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",_e,o(s.academic_year),1)])]),e("button",{onClick:z(C=>A(s),["stop"]),class:"w-full bg-gradient-to-r from-red-900 to-red-800 hover:from-red-800 hover:to-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-lg"},[...t[35]||(t[35]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("span",null,"View Grade Sheet",-1),e("svg",{class:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])],8,Be)])],8,ue))),128))])),x(P,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:j(()=>[p.value?(n(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:S},[x(P,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:j(()=>[p.value?(n(),r("div",{key:0,class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col",onClick:t[5]||(t[5]=z(()=>{},["stop"]))},[e("div",Ae,[e("div",Se,[t[37]||(t[37]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",null,[t[36]||(t[36]=e("h3",{class:"text-xl font-bold"},"Grade Sheet",-1)),m.value?(n(),r("p",ze,o(m.value.title),1)):b("",!0)])]),e("div",{class:"flex items-center gap-2"},[e("button",{onClick:L,class:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white rounded-lg transition-all",title:"Download PDF"},[...t[38]||(t[38]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),e("span",{class:"hidden sm:inline"},"Download",-1)])]),e("button",{onClick:S,class:"p-2 hover:bg-white/20 backdrop-blur-sm text-white rounded-lg transition-all",title:"Close"},[...t[39]||(t[39]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Pe,[f.value?(n(),r("iframe",{key:0,src:f.value,class:"w-full h-full border-0",title:"Grade Sheet PDF"},null,8,He)):(n(),r("div",Le,[...t[40]||(t[40]=[e("div",{class:"text-center"},[e("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]),e("p",{class:"text-gray-600"},"Loading PDF...")],-1)])]))])])):b("",!0)]),_:1})])):b("",!0)]),_:1})])]),_:1})],64))}};export{Ne as default};
