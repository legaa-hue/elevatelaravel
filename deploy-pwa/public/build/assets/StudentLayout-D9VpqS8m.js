import{D as we,r as c,c as re,x as le,E as be,a as r,g as u,e,b as V,w as k,o as s,t as a,T as ke,n as p,F as L,k as N,d as H,z as D,i as _e,j as _,l as ne,G as Ce,f as je,m as Me,B as x,q as J}from"./app-CDJn0Pzk.js";const Se={class:"min-h-screen bg-gray-50"},Be={class:"flex items-center justify-between p-4 border-b border-gray-200 h-16"},ze={key:0,class:"flex items-center gap-3"},Ae={key:0,class:"fixed top-6 right-6 z-[9999] bg-green-600 text-white px-6 py-3 rounded shadow-lg flex items-center gap-3 animate-fade-in"},$e={class:"px-3 py-6 space-y-2 overflow-y-auto h-[calc(100vh-180px)]"},Ve={key:0,class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Le={key:1,class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ne={key:2,class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},He={key:3,class:"font-medium"},De={key:4,class:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none"},Je={class:"flex items-center gap-3"},Pe={key:0,class:"font-medium"},Fe={key:1,class:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none"},Ee={key:0,class:"mt-2 ml-9 space-y-1"},Ie={key:0,class:"px-3 py-2 text-sm text-gray-500"},Te={key:2,class:"px-3 py-2 text-sm text-gray-500"},We={class:"absolute bottom-0 left-0 right-0 p-3 border-t border-gray-200 bg-white"},Oe={key:0,class:"space-y-2"},Ue={class:"flex items-center gap-3 px-3 py-2"},Re={key:0,class:"w-8 h-8 rounded-full overflow-hidden border-2 border-gray-200"},Ye=["src","alt"],qe={key:1,class:"w-8 h-8 bg-gradient-to-br from-red-900 to-red-700 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-md"},Ge={class:"flex-1 min-w-0"},Ke={class:"text-sm font-medium text-gray-900 truncate"},Qe={key:0,class:"px-3 py-2 bg-red-50 rounded-lg"},Xe={class:"text-sm font-bold text-red-900"},Ze={key:1,class:"flex justify-center"},et={class:"bg-white border-b border-gray-200 sticky top-0 z-30 h-16"},tt={class:"flex items-center justify-between px-4 h-full"},ot={class:"flex items-center gap-3"},st={class:"relative"},rt={key:0,class:"absolute top-1 right-1 min-w-[18px] h-[18px] bg-red-600 text-white text-xs font-bold rounded-full flex items-center justify-center px-1"},lt={class:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50"},nt={class:"overflow-y-auto flex-1"},at={key:0,class:"p-8 text-center text-gray-500"},it={key:1,class:"p-8 text-center text-gray-500"},dt={key:2},ut=["onClick"],ct={class:"flex gap-3"},vt={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pt=["d"],gt={class:"flex-1 min-w-0"},ft={class:"flex items-start justify-between gap-2"},ht={class:"text-sm font-semibold text-gray-900"},xt=["onClick"],mt={class:"text-sm text-gray-600 mt-1"},yt={class:"text-xs text-gray-500 mt-1"},wt={class:"relative"},bt={key:0,class:"w-8 h-8 rounded-full overflow-hidden border-2 border-gray-200"},kt=["src","alt"],_t={key:1,class:"w-8 h-8 bg-gradient-to-br from-red-900 to-red-700 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-md"},Ct={class:"hidden md:block text-left"},jt={class:"text-sm font-medium text-gray-900"},Mt={class:"px-4 py-3 border-b border-gray-200"},St={class:"text-sm font-semibold text-gray-900"},Bt={class:"text-xs text-gray-500 truncate"},zt={class:"p-4 md:p-6"},At={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},$t={class:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6"},Vt={class:"flex items-center justify-between mb-4"},Lt={key:0,class:"mt-1 text-sm text-red-600"},Nt={class:"flex gap-3"},Ht=["disabled"],Pt={__name:"StudentLayout",setup(Dt){const P=we(),C=c(!1),F=c(""),ae=()=>{C.value=!1},i=c(!1),y=c(!1),m=c(!1),g=c(!1),f=c(!1),w=c([]),j=c(!1),M=c([]),h=c(0),S=c(!1),n=re(()=>P.props.auth.user),E=re(()=>P.props.activeAcademicYear),B=c(!1),I=c(null),ie=[{name:"Dashboard",href:"/student/dashboard",route:"student.dashboard"},{name:"Calendar",href:"/student/calendar",route:"student.calendar"},{name:"Progress Tracking",href:"/student/progress",route:"student.progress"}],de=o=>route().current(o);le(()=>{if(typeof window<"u"){const o=new URLSearchParams(window.location.search);if(o.get("verified")==="1"){F.value="Email has been verified.",C.value=!0,o.delete("verified");const t=window.location.pathname+(o.toString()?"?"+o.toString():"");window.history.replaceState({},"",t)}}console.log("ðŸŽ¯ PWA: Setting up install button listeners"),window.matchMedia("(display-mode: standalone)").matches&&(console.log("âœ… PWA: App already installed (standalone mode)"),B.value=!1),window.addEventListener("beforeinstallprompt",o=>{console.log("ðŸš€ PWA: beforeinstallprompt event fired!"),o.preventDefault(),I.value=o,B.value=!0,console.log("âœ… PWA: Install button should now be visible")}),window.addEventListener("appinstalled",()=>{console.log("ðŸŽ‰ PWA: App installed successfully!"),B.value=!1,I.value=null})});const v=c({join_code:"",processing:!1,errors:{}}),z=async()=>{j.value=!0;try{const o=await x.get("/student/joined-courses",{headers:{Accept:"application/json"}});w.value=o.data}catch(o){console.error("Failed to load joined courses",o)}finally{j.value=!1}},ue=()=>{m.value=!m.value,m.value&&w.value.length===0&&z()},ce=()=>{v.value.processing=!0,v.value.errors={},J.post("/student/courses/join",{join_code:v.value.join_code},{preserveScroll:!0,onSuccess:()=>{f.value=!1,v.value.join_code="",z()},onError:o=>{v.value.errors=o,v.value.processing=!1},onFinish:()=>{v.value.processing=!1}})},A=()=>{J.post("/logout")},T=()=>{i.value=!i.value,localStorage.setItem("studentSidebarOpen",i.value.toString())},b=async()=>{S.value=!0;try{const o=await x.get("/student/notifications");M.value=o.data.notifications,h.value=o.data.unread_count}catch(o){console.error("Failed to load notifications",o)}finally{S.value=!1}},W=async()=>{try{const o=await x.get("/student/notifications/unread-count");h.value=o.data.count}catch(o){console.error("Failed to load unread count",o)}},ve=()=>{g.value=!g.value,g.value&&b()},pe=async o=>{try{await x.post(`/student/notifications/${o}/read`),b()}catch(t){console.error("Failed to mark notification as read",t)}},ge=async()=>{try{await x.post("/student/notifications/read-all"),b()}catch(o){console.error("Failed to mark all as read",o)}},fe=async o=>{try{await x.delete(`/student/notifications/${o}`),b()}catch(t){console.error("Failed to delete notification",t)}},he=async o=>{var t;o.is_read||await pe(o.id),(t=o.data)!=null&&t.url&&(J.visit(o.data.url),g.value=!1)},xe=o=>{switch(o){case"material":case"classwork":return"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253";case"announcement":return"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}},me=o=>{const t=Math.floor((new Date-new Date(o))/1e3);let d=t/31536e3;return d>1?Math.floor(d)+" years ago":(d=t/2592e3,d>1?Math.floor(d)+" months ago":(d=t/86400,d>1?Math.floor(d)+" days ago":(d=t/3600,d>1?Math.floor(d)+" hours ago":(d=t/60,d>1?Math.floor(d)+" minutes ago":Math.floor(t)+" seconds ago"))))};let $;return le(()=>{const o=localStorage.getItem("studentSidebarOpen");o!==null?i.value=o==="true":i.value=window.matchMedia("(min-width: 1024px)").matches,z(),W(),$=setInterval(()=>{W()},3e4)}),be(()=>{$&&clearInterval($)}),(o,t)=>{var d,O,U,R,Y,q,G,K,Q,X,Z,ee,te,oe,se;return s(),r("div",Se,[i.value?(s(),r("div",{key:0,onClick:t[0]||(t[0]=l=>i.value=!1),class:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden"})):u("",!0),e("aside",{class:p(["fixed top-0 left-0 h-full bg-white shadow-xl text-gray-900 transform transition-all duration-300 ease-in-out border-r border-gray-200",i.value?"w-64 z-50":"w-20 z-40","lg:translate-x-0",!i.value&&"-translate-x-full lg:translate-x-0"])},[e("div",Be,[i.value?(s(),r("div",ze,[t[12]||(t[12]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-red-900 to-red-700 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-md"}," E ",-1)),e("div",null,[V(ke,{name:"fade"},{default:k(()=>[C.value?(s(),r("div",Ae,[t[9]||(t[9]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,a(F.value),1),e("button",{onClick:ae,class:"ml-4 text-white hover:text-gray-200 focus:outline-none"},"Ã—")])):u("",!0)]),_:1}),t[10]||(t[10]=e("h1",{class:"text-lg font-bold bg-gradient-to-r from-black to-red-900 bg-clip-text text-transparent"},"ElevateGS",-1)),t[11]||(t[11]=e("p",{class:"text-xs text-gray-600"},"Student Portal",-1))])])):u("",!0),e("button",{onClick:T,class:p(["text-gray-600 hover:text-red-900 hover:bg-red-50 p-2 rounded-lg transition",!i.value&&"mx-auto"])},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2)]),e("nav",$e,[(s(),r(L,null,N(ie,l=>V(H(D),{key:l.name,href:l.href,class:p(["flex items-center gap-3 px-3 py-3 rounded-lg transition-all duration-200 group relative",de(l.route)?"bg-red-50 text-red-900 shadow-sm font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-red-900"])},{default:k(()=>[l.name==="Dashboard"?(s(),r("svg",Ve,[...t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},null,-1)])])):l.name==="Calendar"?(s(),r("svg",Le,[...t[15]||(t[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])])):l.name==="Progress Tracking"?(s(),r("svg",Ne,[...t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])])):u("",!0),i.value?(s(),r("span",He,a(l.name),1)):u("",!0),i.value?u("",!0):(s(),r("span",De,a(l.name),1))]),_:2},1032,["href","class"])),64)),e("div",null,[e("button",{onClick:ue,class:p(["w-full flex items-center justify-between gap-3 px-3 py-3 rounded-lg transition-all duration-200 group relative","text-gray-700 hover:bg-gray-100 hover:text-red-900"])},[e("div",Je,[t[17]||(t[17]=e("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),i.value?(s(),r("span",Pe,"Joined Courses")):u("",!0)]),i.value?(s(),r("svg",{key:0,class:p(["w-4 h-4 transition-transform",m.value&&"rotate-180"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[18]||(t[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)):u("",!0),i.value?u("",!0):(s(),r("span",Fe," Joined Courses "))]),m.value&&i.value?(s(),r("div",Ee,[j.value?(s(),r("div",Ie," Loading... ")):w.value.length>0?(s(!0),r(L,{key:1},N(w.value,l=>(s(),_e(H(D),{key:l.id,href:`/student/courses/${l.id}`,class:"block px-3 py-2 text-sm text-gray-700 hover:bg-red-50 hover:text-red-900 rounded-lg transition"},{default:k(()=>[_(a(l.title),1)]),_:2},1032,["href"]))),128)):(s(),r("div",Te," No courses joined yet "))])):u("",!0)])]),e("div",We,[i.value?(s(),r("div",Oe,[e("div",Ue,[n.value&&n.value.profile_picture?(s(),r("div",Re,[e("img",{src:n.value.profile_picture.startsWith("http")?n.value.profile_picture:`/storage/${n.value.profile_picture}`,alt:`${n.value.first_name} ${n.value.last_name}`,class:"w-full h-full object-cover"},null,8,Ye)])):(s(),r("div",qe,a(((O=(d=n.value)==null?void 0:d.first_name)==null?void 0:O[0])||"S")+a(((R=(U=n.value)==null?void 0:U.last_name)==null?void 0:R[0])||""),1)),e("div",Ge,[e("p",Ke,a(((Y=n.value)==null?void 0:Y.first_name)||"Student")+" "+a(((q=n.value)==null?void 0:q.last_name)||""),1),t[19]||(t[19]=e("p",{class:"text-xs text-gray-500"},"Student",-1))])]),E.value?(s(),r("div",Qe,[t[20]||(t[20]=e("p",{class:"text-xs font-medium text-red-900"},"Academic Year",-1)),e("p",Xe,a(E.value),1)])):u("",!0),e("button",{onClick:A,class:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-red-900 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},[...t[21]||(t[21]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),_(" Logout ",-1)])])])):(s(),r("div",Ze,[e("button",{onClick:A,class:"p-2 text-red-900 hover:bg-red-50 rounded-lg transition-colors group relative"},[...t[22]||(t[22]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),e("span",{class:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none"}," Logout ",-1)])])]))])],2),e("div",{class:p(["transition-all duration-300 min-h-screen",i.value?"lg:ml-64":"lg:ml-20"])},[e("header",et,[e("div",tt,[e("div",{class:"flex items-center gap-4"},[e("button",{onClick:T,class:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors"},[...t[23]||(t[23]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])]),e("div",ot,[e("button",{onClick:t[1]||(t[1]=l=>f.value=!0),class:"flex items-center gap-2 px-4 py-2 bg-red-900 hover:bg-red-800 text-white rounded-lg transition font-medium text-sm shadow-md"},[...t[24]||(t[24]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",null,"Join Course",-1)])]),e("div",st,[e("button",{onClick:ve,class:"relative p-2 text-gray-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",title:"Notifications"},[t[25]||(t[25]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),h.value>0?(s(),r("span",rt,a(h.value>99?"99+":h.value),1)):u("",!0)]),g.value?(s(),r("div",{key:0,onClick:t[2]||(t[2]=l=>g.value=!1),class:"absolute right-0 mt-2 w-96 max-w-[calc(100vw-2rem)] bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[500px] overflow-hidden flex flex-col"},[e("div",lt,[t[26]||(t[26]=e("h3",{class:"font-semibold text-gray-900"},"Notifications",-1)),h.value>0?(s(),r("button",{key:0,onClick:ge,class:"text-xs text-red-900 hover:text-red-700 font-medium"}," Mark all as read ")):u("",!0)]),e("div",nt,[S.value?(s(),r("div",at,[...t[27]||(t[27]=[e("svg",{class:"animate-spin h-8 w-8 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"text-sm"},"Loading notifications...",-1)])])):M.value.length===0?(s(),r("div",it,[...t[28]||(t[28]=[e("svg",{class:"w-16 h-16 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),e("p",{class:"text-sm font-medium"},"No notifications yet",-1),e("p",{class:"text-xs mt-1"},"We'll notify you when something new arrives",-1)])])):(s(),r("div",dt,[(s(!0),r(L,null,N(M.value,l=>(s(),r("div",{key:l.id,onClick:ye=>he(l),class:p(["px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",!l.is_read&&"bg-blue-50"])},[e("div",ct,[e("div",{class:p(["w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",l.type==="announcement"?"bg-yellow-100 text-yellow-700":l.type==="material"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"])},[(s(),r("svg",vt,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:xe(l.type)},null,8,pt)]))],2),e("div",gt,[e("div",ft,[e("p",ht,a(l.title),1),e("button",{onClick:ne(ye=>fe(l.id),["stop"]),class:"text-gray-400 hover:text-red-600 transition-colors"},[...t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,xt)]),e("p",mt,a(l.message),1),e("p",yt,a(me(l.created_at)),1)])])],10,ut))),128))]))])])):u("",!0)]),e("div",wt,[e("button",{onClick:t[3]||(t[3]=l=>y.value=!y.value),class:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors"},[n.value&&n.value.profile_picture?(s(),r("div",bt,[e("img",{src:n.value.profile_picture.startsWith("http")?n.value.profile_picture:`/storage/${n.value.profile_picture}`,alt:`${n.value.first_name} ${n.value.last_name}`,class:"w-full h-full object-cover"},null,8,kt)])):(s(),r("div",_t,a(((K=(G=n.value)==null?void 0:G.first_name)==null?void 0:K[0])||"S")+a(((X=(Q=n.value)==null?void 0:Q.last_name)==null?void 0:X[0])||""),1)),e("div",Ct,[e("p",jt,a(((Z=n.value)==null?void 0:Z.first_name)||"Student")+" "+a(((ee=n.value)==null?void 0:ee.last_name)||""),1),t[30]||(t[30]=e("p",{class:"text-xs text-gray-500"},"Student",-1))]),t[31]||(t[31]=e("svg",{class:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),y.value?(s(),r("div",{key:0,onClick:t[4]||(t[4]=l=>y.value=!1),class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50"},[e("div",Mt,[e("p",St,a(((te=n.value)==null?void 0:te.first_name)||"Student")+" "+a(((oe=n.value)==null?void 0:oe.last_name)||""),1),e("p",Bt,a(((se=n.value)==null?void 0:se.email)||""),1)]),V(H(D),{href:o.route("profile.edit"),class:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},{default:k(()=>[...t[32]||(t[32]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),_(" Profile Settings ",-1)])]),_:1},8,["href"]),e("button",{onClick:A,class:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-900 hover:bg-red-50"},[...t[33]||(t[33]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),_(" Logout ",-1)])])])):u("",!0)])])])]),e("main",zt,[Ce(o.$slots,"default")])],2),f.value?(s(),r("div",At,[e("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:t[5]||(t[5]=l=>f.value=!1)}),e("div",$t,[e("div",Vt,[t[35]||(t[35]=e("h3",{class:"text-xl font-bold text-gray-900"},"Join Course",-1)),e("button",{onClick:t[6]||(t[6]=l=>f.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[34]||(t[34]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:ne(ce,["prevent"]),class:"space-y-4"},[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Course Join Code",-1)),je(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>v.value.join_code=l),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter 6-digit code",maxlength:"6",required:""},null,512),[[Me,v.value.join_code]]),v.value.errors.join_code?(s(),r("p",Lt,a(v.value.errors.join_code),1)):u("",!0)]),e("div",Nt,[e("button",{type:"button",onClick:t[8]||(t[8]=l=>f.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition"}," Cancel "),e("button",{type:"submit",disabled:v.value.processing,class:"flex-1 px-4 py-2 bg-red-900 text-white rounded-lg hover:bg-red-800 transition disabled:opacity-50"},a(v.value.processing?"Joining...":"Join Course"),9,Ht)])],32)])])):u("",!0)])}}};export{Pt as _};
