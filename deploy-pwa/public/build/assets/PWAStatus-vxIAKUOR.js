import{r as p,x as _,a,b as x,e,d as v,h as f,t as l,g as i,F as m,k as g,j as k,o}from"./app-CDJn0Pzk.js";const y={class:"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8"},b={class:"max-w-3xl mx-auto"},w={class:"bg-white rounded-lg shadow-lg p-8"},W={class:"mb-6 flex items-center"},S={class:"flex-shrink-0"},I={key:0,class:"text-green-500 text-2xl"},A={key:1,class:"text-red-500 text-2xl"},D={class:"ml-4"},R={class:"text-gray-600"},M={class:"text-sm text-gray-500"},T={class:"mb-6 flex items-center"},P={class:"flex-shrink-0"},B={key:0,class:"text-green-500 text-2xl"},N={key:1,class:"text-red-500 text-2xl"},C={class:"ml-4"},L={class:"text-gray-600"},H={key:0,class:"mt-2 text-sm text-gray-500"},U={class:"mb-6 flex items-center"},V={class:"flex-shrink-0"},j={key:0,class:"text-green-500 text-2xl"},E={key:1,class:"text-red-500 text-2xl"},q={class:"ml-4"},F={class:"text-gray-600"},z={key:0,class:"mt-2 text-sm text-gray-500"},$={class:"mb-6 flex items-center"},G={class:"flex-shrink-0"},J={key:0,class:"text-green-500 text-2xl"},K={key:1,class:"text-red-500 text-2xl"},O={class:"ml-4"},Q={class:"text-gray-600"},X={key:0,class:"text-sm text-gray-500"},Y={class:"mb-6 flex items-center"},Z={class:"flex-shrink-0"},ee={key:0,class:"text-green-500 text-2xl"},te={key:1,class:"text-yellow-500 text-2xl"},se={key:2,class:"text-gray-500 text-2xl"},ae={class:"ml-4"},oe={class:"text-gray-600"},ne={key:0},le={key:1},ie={key:2},re={class:"mt-8 p-4 bg-gray-50 rounded-lg"},de={class:"text-sm text-gray-600"},ce={class:"text-sm text-gray-600 mt-1"},ue={class:"mt-8 p-4 bg-blue-50 border-l-4 border-blue-500 rounded"},me={class:"text-sm text-blue-800 space-y-1 list-disc list-inside"},he={key:0},pe={key:1},_e={key:2},xe={key:3},ve={key:4},ke={__name:"PWAStatus",setup(fe){const t=p({https:!1,manifest:!1,serviceWorker:!1,icons:!1,canInstall:!1,isInstalled:!1,manifestData:null,swRegistration:null}),r=async()=>{t.value.https=window.location.protocol==="https:"||window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";try{const n=document.querySelector('link[rel="manifest"]');if(n){const s=await fetch(n.href);t.value.manifestData=await s.json(),t.value.manifest=!0,t.value.icons=t.value.manifestData.icons&&t.value.manifestData.icons.length>0}}catch(n){console.error("Manifest check failed:",n)}if("serviceWorker"in navigator)try{const n=await navigator.serviceWorker.getRegistration();t.value.swRegistration=n,t.value.serviceWorker=!!n}catch(n){console.error("Service Worker check failed:",n)}t.value.isInstalled=window.matchMedia("(display-mode: standalone)").matches,window.addEventListener("beforeinstallprompt",()=>{t.value.canInstall=!0})};return _(()=>{r()}),(n,s)=>{var d,c;return o(),a(m,null,[x(v(f),{title:"PWA Status"}),e("div",y,[e("div",b,[e("div",w,[s[11]||(s[11]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-8"},"PWA Installation Status",-1)),e("div",W,[e("div",S,[t.value.https?(o(),a("span",I,"‚úÖ")):(o(),a("span",A,"‚ùå"))]),e("div",D,[s[0]||(s[0]=e("h3",{class:"text-lg font-medium"},"HTTPS / Localhost",-1)),e("p",R,l(t.value.https?"Running on secure connection":"Must use HTTPS or localhost"),1),e("p",M,"Current: "+l(n.window.location.protocol)+"//"+l(n.window.location.hostname),1)])]),e("div",T,[e("div",P,[t.value.manifest?(o(),a("span",B,"‚úÖ")):(o(),a("span",N,"‚ùå"))]),e("div",C,[s[1]||(s[1]=e("h3",{class:"text-lg font-medium"},"Web App Manifest",-1)),e("p",L,l(t.value.manifest?"Manifest found and loaded":"Manifest not found"),1),t.value.manifestData?(o(),a("div",H,[e("p",null,"Name: "+l(t.value.manifestData.name),1),e("p",null,"Short Name: "+l(t.value.manifestData.short_name),1),e("p",null,"Start URL: "+l(t.value.manifestData.start_url),1)])):i("",!0)])]),e("div",U,[e("div",V,[t.value.icons?(o(),a("span",j,"‚úÖ")):(o(),a("span",E,"‚ùå"))]),e("div",q,[s[2]||(s[2]=e("h3",{class:"text-lg font-medium"},"App Icons",-1)),e("p",F,l(t.value.icons?`${((c=(d=t.value.manifestData)==null?void 0:d.icons)==null?void 0:c.length)||0} icons configured`:"No icons found"),1),t.value.icons?(o(),a("div",z,[(o(!0),a(m,null,g(t.value.manifestData.icons,(u,h)=>(o(),a("p",{key:h},l(u.sizes)+" - "+l(u.type),1))),128))])):i("",!0)])]),e("div",$,[e("div",G,[t.value.serviceWorker?(o(),a("span",J,"‚úÖ")):(o(),a("span",K,"‚ùå"))]),e("div",O,[s[3]||(s[3]=e("h3",{class:"text-lg font-medium"},"Service Worker",-1)),e("p",Q,l(t.value.serviceWorker?"Service Worker registered":"Service Worker not registered"),1),t.value.swRegistration?(o(),a("p",X," Scope: "+l(t.value.swRegistration.scope),1)):i("",!0)])]),e("div",Y,[e("div",Z,[t.value.isInstalled?(o(),a("span",ee,"‚úÖ")):t.value.canInstall?(o(),a("span",te,"‚ö†Ô∏è")):(o(),a("span",se,"‚è≥"))]),e("div",ae,[s[4]||(s[4]=e("h3",{class:"text-lg font-medium"},"Installation Status",-1)),e("p",oe,[t.value.isInstalled?(o(),a("span",ne,"App is currently installed")):t.value.canInstall?(o(),a("span",le,"App can be installed")):(o(),a("span",ie,"Waiting for install prompt..."))])])]),e("div",re,[s[5]||(s[5]=e("h3",{class:"font-medium mb-2"},"Browser Information",-1)),e("p",de,"User Agent: "+l(n.navigator.userAgent),1),e("p",ce,"Display Mode: "+l(n.window.matchMedia("(display-mode: standalone)").matches?"Standalone":"Browser"),1)]),e("div",ue,[s[9]||(s[9]=e("h3",{class:"font-medium text-blue-900 mb-2"},"üí° Troubleshooting Tips",-1)),e("ul",me,[t.value.https?i("",!0):(o(),a("li",he,"Use HTTPS or localhost to enable PWA features")),t.value.manifest?i("",!0):(o(),a("li",pe,[...s[6]||(s[6]=[k("Build the project first: ",-1),e("code",{class:"bg-blue-100 px-1 rounded"},"npm run build",-1)])])),t.value.serviceWorker?i("",!0):(o(),a("li",_e,"Refresh the page to register Service Worker")),t.value.isInstalled?(o(),a("li",xe,"App is already installed. Uninstall to see install prompt again.")):i("",!0),!t.value.canInstall&&!t.value.isInstalled?(o(),a("li",ve,"Wait a few seconds, then refresh the page")):i("",!0),s[7]||(s[7]=e("li",null,"Chrome: Check chrome://flags/#enable-desktop-pwas",-1)),s[8]||(s[8]=e("li",null,"Edge: Check edge://flags/#enable-desktop-pwas",-1))])]),e("div",{class:"mt-8 flex gap-4"},[e("button",{onClick:r,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," üîÑ Recheck Status "),s[10]||(s[10]=e("a",{href:"/",class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"}," ‚Üê Back to Home ",-1))])])])])],64)}}};export{ke as default};
